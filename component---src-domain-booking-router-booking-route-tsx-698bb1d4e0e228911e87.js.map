{"version":3,"sources":["webpack:///./src/domain/booking/components/BookingSection.tsx","webpack:///./src/domain/booking/containers/BookingFixedBar.tsx","webpack:///./src/common/components/tooltip/Tooltip.tsx","webpack:///./src/common/components/infobox/Infobox.tsx","webpack:///./src/domain/treatment/components/TreatmentSelectionButton.tsx","webpack:///./src/domain/treatment/components/additionalFields/AdditionalTreatment.tsx","webpack:///./src/domain/treatment/components/additionalFields/AdditionalFieldsFactory.tsx","webpack:///./src/domain/treatment/components/additionalFields/AdditionalFields.tsx","webpack:///./src/common/components/animation/AnimateHeight.tsx","webpack:///./src/domain/treatment/components/addTreatments/AddTreatments.tsx","webpack:///./src/domain/treatment/components/TreatmentList.tsx","webpack:///./src/domain/treatment/containers/TreatmentSelection.tsx","webpack:///./src/domain/customerInfo/containers/CustomerInfoForm.tsx","webpack:///./src/domain/user/components/CancelBooking.tsx","webpack:///./src/domain/booking/containers/BookingOrderOverview.tsx","webpack:///./src/common/components/calendar/Calendar.tsx","webpack:///./src/domain/calendar/containers/CalendarSection.tsx","webpack:///./src/domain/calendar/components/TimeSelectionButton.tsx","webpack:///./src/domain/calendar/containers/TimeSelectionSection.tsx","webpack:///./src/domain/customerInfo/containers/BillingSection.tsx","webpack:///./src/domain/clinics/containers/ClinicSection.tsx","webpack:///./src/domain/booking/components/bookingSections.tsx","webpack:///./src/domain/booking/containers/Booking.tsx","webpack:///./src/domain/app/forces/selectors.ts","webpack:///./src/domain/user/containers/PrivateRoute.tsx","webpack:///./src/domain/booking/components/BookingOlioPointsGuestInformation.tsx","webpack:///./src/domain/booking/containers/BookingSuccess.tsx","webpack:///./src/domain/booking/router/BookingRoute.tsx","webpack:///./src/common/components/link/Link.tsx","webpack:///./src/common/components/grid/Grid.tsx","webpack:///./src/common/components/callToAction/CallToActionButton.tsx","webpack:///./src/common/components/callToAction/CallToActionLink.tsx","webpack:///./src/common/components/callToAction/CallToAction.tsx","webpack:///./src/utils/ts.utils.tsx","webpack:///./src/common/components/loadingIndicator/LoadingIndicator.tsx","webpack:///./src/common/components/hamburgerMenu/HamburgerMenu.tsx","webpack:///./src/common/components/mobileMenu/MobileMenu.tsx","webpack:///./src/common/components/bookMenu/BookMenu.tsx","webpack:///./src/utils/formatting.utils.ts","webpack:///./src/assets/images/favicon.png","webpack:///./src/common/components/infoMessage/InfoMessage.tsx","webpack:///./src/common/components/privacyPolicy/PrivacyPolicy.tsx","webpack:///./src/common/components/socialMediaIcons/SocialMediaIcon.tsx","webpack:///./src/common/components/footer/Footer.tsx","webpack:///./src/common/components/fixedBarBottom/FixedBarBottom.tsx","webpack:///./src/common/components/logo/Logo.tsx","webpack:///./src/common/components/form/FormAlert.tsx","webpack:///./src/common/components/layout/Layout.tsx","webpack:///./src/common/components/section/SectionListTitle.tsx","webpack:///./src/common/components/form/FormInput.tsx","webpack:///./src/common/components/pageTitle/PageTitle.tsx","webpack:///./src/utils/currency.utils.ts","webpack:///./src/common/components/stripe/fields/stripeFormFields.tsx","webpack:///./src/common/components/ssr/NoSSR.tsx","webpack:///./src/common/components/stripe/StripeForm.tsx","webpack:///./src/domain/user/containers/PaymentContainer.tsx","webpack:///./src/domain/user/assets/texts.ts","webpack:///./src/common/components/modal/ConfirmActionModal.tsx","webpack:///./src/common/animations/SuccessAnimation.tsx","webpack:///./src/common/animations/ContainerAnimation.tsx","webpack:///./src/domain/booking/components/BookingOverviewTreatmentsList.tsx","webpack:///./src/common/components/checkbox/Checkbox.tsx","webpack:///./src/domain/booking/components/BookingOlioPointsSection.tsx","webpack:///./src/domain/booking/components/BookingOverview.tsx"],"names":["BookingSection","className","props","classNames","styles","container","type","xs","mdOffset","md","lgOffset","lg","title","children","BookingFixedBar","onNextButtonPressed","buttonState","submitting","FixedBarBottom","rightColumn","LoadingIndicator","CallToActionButton","onClick","styleType","disabled","isEnabled","nextButton","text","Tooltip","infoModal","Infobox","isSelected","description","TreatmentSelectionButton","render","this","treatment","buttonStyle","selected","unselected","button","buttonText","displayTitle","infobox","Component","connect","state","additionalTreatment","isAdditionalFieldSelected","dispatch","bindActionCreators","selectTreatment","selectAdditionalTreatment","deselectAdditionalTreatment","parentTreatmentPrice","additionalTreatmentPrice","parentTreatment","containerInner","price","buttonContainer","buttonSelected","theme","AdditionalFieldsFactory","additionalField","FieldTypes","Treatment","Note","assertUnreachable","AdditionalFields","additionalFields","length","map","index","key","AnimateHeight","easing","duration","height","SelectNumberOfTreatments","AddTreatmentStyles","subtractTreatment","count","addTreatment","numberOfTreatments","numberOfSpecificTreatment","isTreatmentSelected","hasSelectedAdditionalField","getTotalPriceOfAdditionalTreatments","SectionListTitle","size","treatmentType","treatments","totalPriceOfAdditionalTreatments","id","handleDeselection","handleSelection","AdditionalTreatmentStyles","multiple","AddTreatments","TreatmentSelection","setCurrentSection","setBookingSection","BookingSectionIDs","CalendarSection","handleTreatmentSelection","appointmentId","handleTreatmentDeselection","deselectTreatment","treatmentTypes","hidden","React","getTreatmentTypes","CustomerInfoForm","formFields","placeholder","customerInfoKey","updateCustomerInfo","formField","FormInput","onChange","event","target","value","customerInfo","getCustomerInfo","CancelBookingModal","isOpen","triggerCancel","canceling","toggleOpen","message","ConfirmActionModal","showButtons","handleResponse","response","style","marginBottom","BookingOrderOverview","showCancelBookingModal","getPointsConfig","isLoggedIn","currentUser","usePoints","toggleUsePoints","currentAmount","getOlioPointsRounded","points","onCheckboxChange","toggleCancel","setState","cancelBooking","a","booking","waitlistId","cancelBookingParams","navigate","Routes","Bookings","selectedDate","selectedTime","totalPrice","totalDuration","selectedTreatments","selectedClinic","bookAppointment","updateAppointment","isBookingValid","isSubmitting","submissionError","cancelBookingError","editMode","userIsMember","rightButton","callback","callbackText","BOOKING_TEXTS","BUTTONS","UPDATE","BOOK","validation","cancelButton","CANCEL","isSecondary","undefined","pointsConfig","confirmationText","BookingOverview","dateTimeMessage","MESSAGES","MEET_UP_ON_TIME","FormAlert","error","CancelBooking","selectedClinicId","getSelectedClinicId","getSelectedTreatments","getSelectedClinic","getSelectedDate","getSelectedTime","getTotalPrice","getTotalDuration","getSubmissionError","getCurrentUser","isMember","getUsePoints","getEditMode","getBooking","getCancelBookingError","Calendar","isDayBlocked","day","previousDate","dayIsBefore","unavailableDay","isDayAvailable","dateFormattedToAPI","formatToAPIDate","availableDays","setUpMoment","calendarWidth","initialDate","setCalendarSize","bind","moment","updateLocale","weekdaysMin","split","format","checkAndSetInitialDate","date","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","prevProps","getInitialMonth","numericDateToMoment","calendarContainer","focused","initialVisibleMonth","onDateChange","newdate","valueOf","d","onPrevMonthClick","handleMonthChange","startOf","endOf","onNextMonthClick","numberOfMonths","firstDayOfWeek","daySize","monthFormat","noBorder","navPrev","navNext","renderLoadingIfNeeded","isLoading","loadingContainer","loadingIndicator","width","innerWidth","calendarSize","Math","round","scrollToNextSection","TimeSection","scrollToBookingSection","handleDateSelection","selectDate","from","to","getAvailability","getDate","hasAvailableDates","selectedDateSetFirstTime","checkAndGetAvailabilityByInitialDate","selectedIsCurrentMonth","isSelectedDateCurrentMonth","momentDate","changeMonth","start","getStartOfMonth","end","getEndOfMonth","renderNoTreatmentsOrClinicSelected","hasSelectedTreatments","hasSelectedClinic","availableDates","isAvailableDatesLoading","getAvailableDates","TimeSelectionButton","forwardRef","ref","infoText","available","time","isUnAvailable","cssClassName","TimeSelectionSection","timeSectionComponent","header","timeSectionTimeSlots","hasAvailableSlot","timeslot","handleTimeSelection","info","availability","shouldShowBillingForm","sectionIfLoggedIn","BillingSection","Overview","nextSection","CustomerInfo","selectTime","noTimeSlotsAvailableComponent","areTimeSlotsAvailable","groupedTimeSlots","filter","slotGroup","hasSlots","slots","timeslots","categorizedTimeslots","timeSlot","mapTimeslotsToSection","TIMES_IN_MS","GROUPINGS","name","getGroupedTimeSlots","dateToUse","getStartOfDay","firstAvailableDay","TimeSectionComponent","timeSlotsAvailable","NoTimeSlotsAvailable","TEXTS","hasUpdatedPaymentInfo","bookingUIConfig","showAddedPaymentInfoSuccess","ContainerAnimation","SuccessAnimation","PaymentContainer","hideSkipButton","onSubmitCardToken","cardToken","setPaymentInformation","onPaymentSubmitted","toggleShowAddedPaymentInfoSuccess","getBookingUI","ClinicSection","hasFetchedClinics","fetchAllClinics","selectClinic","clinicId","changeSelectedClinicId","renderClinicButtons","allClinics","clinic","locationButton","divider","locationButtonContainer","getAllClinics","getBookingSections","options","hideTreatmentSelection","editingBooking","sections","component","sectionValidator","hasDate","hasTime","hasCustomerInfo","hasPaymentInfo","section","Booking","loaded","bookingId","setupEditBooking","setupNewBooking","getAllTreatmentTypes","prepopulateBookingWithQueryParameters","location","search","hasLoaded","resetBookingForm","populateBookingWithExistingBooking","then","renderLoading","renderContent","validateAndScrollBookingSections","bookingSections","bookingButton","submittingBooking","submission","bookingSection","Element","isReady","isUpdate","isTreatmentTypesLoading","loading","Layout","PageTitle","paddingBottom","ownProps","isUserLoggedIn","isAllSelectedTreamentTypesHidden","getBookingButtonState","isAppSetupLoading","app","user","roles","UserRole","Member","rest","LogIn","includes","role","BookingOlioPointsGuestInformation","line","config","bookingPointsEarningsPercentage","CallToActionLink","callToActionButton","Register","BookingSuccess","generateCoronaWarningText","warningListContainer","warningList","Main","generateBookingText","baseText","body","push","getTexts","formatToDateAndYear","formatDurationToTime","address","streetAddress","texts","coronaWarningText","guestInformation","homeButton","NotFoundRoute","BookingPage","default","path","PrivateRoute","Guest","USER_TEXTS","LOGIN","TO_UPDATE_BOOKING","Link","underlined","getProps","link","linkUnderlined","Container","Row","Column","element","styleTypeToClassName","primary","secondary","outlined","noline","sizeToClassName","sizeLarge","sizeNormal","CallToAction","themeLight","themeDark","themeBrown","callToAction","x","Error","loader","HamburgerMenu","color","active","lineHeight","padding","MobileMenu","toggleMenu","open","scrollTo","sectionName","pathname","Scroll","scroller","smooth","containerVisible","innerContainer","innerContainerVisible","list","items","TreatmentSection","GiftCard","Store","AboutSection","Dashboard","menuItems","menuItem","listItem","hamburgerMenu","windowExist","snipcartBackButton","document","getElementsByClassName","click","LoggedOut","loggedOutContainer","routeLink","buttons","userSelect","LoggedIn","isUserDataLoading","fullName","parts","userdataIsLoading","leftColumn","Logo","mobileMenu","module","exports","InfoMessage","icon","privacyPolicyStatus","getPrivacyPolicyStatus","setPrivacyPolicyStatus","useState","privacyPolicyConsent","setPrivacyPolicyConsent","savePrivacyPolicyStatus","localStorage","setItem","textContainer","PrivacyPolicyDetail","renderPrivacyPolicyConsentIfNeeded","SocialMediaIcon","Footer","sm","column","href","Terms","socialMediaIcons","iconFacebook","iconInstagram","row","columnLeft","columnRight","viewBox","logo","transform","fill","success","headerText","alert","alertDanger","alertSuccess","alertContent","rel","favicon","footerBarCollection","bookingDisabled","H3","BodyBolderText","getType","FormInputWith","required","input","backButtonDark","backButtonBrown","backButton","textDark","textBrown","formatToNOK","amount","getNewPriceWithPoints","originalPrice","currentPointsAmount","max","ceil","STRIPE_FORM_FIELDS","NoSSR","mounted","Fragment","CardNumberElement","CardExpiryElement","CardCVCElement","formOptions","base","letterSpacing","fontSize","fontFamily","invalid","complete","StripeForm","renderFields","modifyPlaceholders","field","formfield","existingLastFourCardDigits","CARD_NUMBER","onSubmit","preventDefault","stripe","onTokenReceived","getStripeToken","token","onSkipClicked","onSkipButtonClicked","showLoader","showLoadingIndicator","Fields","skipButton","injectStripe","apiKey","stripePublishableKey","DASHBOARD","PAYMENT_INFORMATION","EXISTING","DOES_NOT_EXIST","UPDATED","BOOKING","CHANGE","autoplay","loop","animationData","successAnimationJSON","posed","div","enter","y","opacity","delay","transition","stiffness","damping","exit","Item","li","BookingOverviewTreatmentsList","hasRemoveButton","onRemoveTreatment","i","removeButton","Checkbox","checked","checkmark","BookingOlioPointsSection","pointsAmount","renderButton","MemberNotice","paymentNotice","BOOKING_PAID_WITH_STORED_CARD","FIRST_LINE","SECOND_LINE","leftButton","bookingContext","shouldShowDateTimeMessage","buttonsContainerStyle","buttonsContainerDashboard","getButtonsContainerStyle","showMemberAutomaticPaymentNotice","BookingContext","ORDER","wrapper","sectionListTitle","spaceBetweenContainer","sectionListTitleRight","calculateClockFromMSTime","newPriceWithPoints","renderPointsSectionIfNeeded","formattedPriceInNOK","memberText","renderTotalPriceSection","cancelButtonText"],"mappings":"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","file":"component---src-domain-booking-router-booking-route-tsx-698bb1d4e0e228911e87.js","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport { H2 } from '../../../common/components/texts';\nimport { Container, Row, Column } from '../../../common/components/grid/Grid';\nimport styles from './BookingSection.module.css';\n\ntype Props = {\n  title?: string;\n  type: 'primary' | 'secondary' | 'tertiary';\n} & React.HTMLAttributes<HTMLElement>;\n\nconst BookingSection: React.FunctionComponent<Props> = ({ className, ...props }) => {\n  return (\n    <section\n      className={classNames(styles.container, styles[props.type], styles[className], className)}\n      {...props}>\n      <Container>\n        <Row>\n          <Column xs={12} mdOffset={2} md={8} lgOffset={3} lg={6}>\n            {props.title && <H2 className={styles.title}>{props.title}</H2>}\n            {props.children}\n          </Column>\n        </Row>\n      </Container>\n    </section>\n  );\n};\n\nexport default BookingSection;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport FixedBarBottom from '../../../common/components/fixedBarBottom/FixedBarBottom';\nimport CallToActionButton from '../../../common/components/callToAction/CallToActionButton';\nimport { IButtonState } from '../forces/types';\nimport LoadingIndicator from '../../../common/components/loadingIndicator/LoadingIndicator';\nimport styles from './BookingFixedBar.module.css';\n\ntype Props = {\n  onNextButtonPressed: () => void;\n  submitting: boolean;\n  buttonState: IButtonState;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst BookingFixedBar: React.FunctionComponent<Props> = ({\n  className,\n  onNextButtonPressed,\n  buttonState,\n  submitting,\n  ...props\n}) => {\n  return (\n    <FixedBarBottom\n      className={classNames(styles.container, className)}\n      rightColumn={\n        submitting ? (\n          <LoadingIndicator />\n        ) : (\n          <CallToActionButton\n            onClick={() => onNextButtonPressed()}\n            styleType=\"secondary\"\n            disabled={!buttonState.isEnabled}\n            className={styles.nextButton}>\n            {buttonState.text}\n          </CallToActionButton>\n        )\n      }\n      {...props}\n    />\n  );\n};\n\nexport default BookingFixedBar;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport styles from './Tooltip.module.css';\n\ntype Props = {} & React.HTMLAttributes<HTMLElement>;\n\nconst Tooltip: React.FunctionComponent<Props> = ({ className, ...props }) => {\n  return (\n    <div className={classNames(styles.infoModal, className)} {...props}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Tooltip;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport * as styles from './Infobox.module.css';\nimport Tooltip from '../tooltip/Tooltip';\n\ntype Props = { description: string; isSelected: boolean } & React.HTMLAttributes<HTMLElement>;\n\nconst Infobox: React.FunctionComponent<Props> = ({ isSelected, ...props }) => {\n  return (\n    <div className={classNames(styles.infoSymbol, { [styles.infoSymbolSelected]: isSelected })}>\n      <Tooltip className={styles.infoModal}>{props.description}</Tooltip>\n    </div>\n  );\n};\n\nexport default Infobox;\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport Infobox from '../../../common/components/infobox/Infobox';\nimport { Treatment } from '../forces/types';\nimport styles from './TreatmentSelectionButton.module.css';\n\ntype Props = {\n  onClick: (treatment: Treatment, isSelected: boolean) => void;\n  treatment: Treatment;\n  isSelected: boolean;\n};\n\nclass TreatmentSelectionButton extends Component<Props> {\n  render() {\n    const { treatment, isSelected } = this.props;\n    const buttonStyle = isSelected ? styles.selected : styles.unselected;\n    return (\n      <button\n        className={classNames(styles.button, buttonStyle)}\n        onClick={() => this.props.onClick(treatment, isSelected)}>\n        <div className={styles.buttonText}>{this.props.treatment.displayTitle}</div>\n        <div className={styles.infobox}>\n          <Infobox isSelected={isSelected} description={this.props.treatment.description} />\n        </div>\n      </button>\n    );\n  }\n}\n\nexport default TreatmentSelectionButton;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { Treatment } from '../../forces/types';\nimport CallToActionButton from '../../../../common/components/callToAction/CallToActionButton';\nimport { RootState } from '../../../../root.reducer';\nimport {\n  selectTreatment,\n  selectAdditionalTreatment,\n  deselectAdditionalTreatment,\n} from '../../../booking/forces/actions';\nimport { isAdditionalFieldSelected } from '../../../booking/forces/selectors';\nimport styles from './AdditionalTreatment.module.css';\n\ninterface OwnProps {\n  parentTreatment: Treatment;\n  additionalTreatment: Treatment;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\nconst renderPriceIfNeeded = (parentTreatmentPrice: number, additionalTreatmentPrice: number) => {\n  if (parentTreatmentPrice === additionalTreatmentPrice) {\n    return null;\n  }\n  return `(+${additionalTreatmentPrice - parentTreatmentPrice})`;\n};\n\nconst AdditionalTreatment: React.FunctionComponent<Props> = ({\n  className,\n  parentTreatment,\n  additionalTreatment,\n  selectTreatment,\n  selectAdditionalTreatment,\n  deselectAdditionalTreatment,\n  isAdditionalFieldSelected,\n  ...props\n}) => {\n  return (\n    <div className={styles.containerInner}>\n      {additionalTreatment.displayTitle}{' '}\n      {renderPriceIfNeeded(parentTreatment.price, additionalTreatment.price)}\n      <div className={styles.buttonContainer}>\n        <CallToActionButton\n          styleType=\"outlined\"\n          className={classNames(styles.button, {\n            [styles.buttonSelected]: isAdditionalFieldSelected,\n          })}\n          theme=\"dark\"\n          onClick={() => {\n            if (!isAdditionalFieldSelected) {\n              selectAdditionalTreatment({ parentTreatment, additionalTreatment });\n            }\n          }}>\n          Ja\n        </CallToActionButton>\n        <CallToActionButton\n          styleType=\"outlined\"\n          theme=\"dark\"\n          className={classNames(styles.button, {\n            [styles.buttonSelected]: !isAdditionalFieldSelected,\n          })}\n          onClick={() => {\n            if (isAdditionalFieldSelected) {\n              deselectAdditionalTreatment({ parentTreatment, additionalTreatment });\n            }\n          }}>\n          Nei\n        </CallToActionButton>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState, { additionalTreatment }: OwnProps) => ({\n  isAdditionalFieldSelected: isAdditionalFieldSelected(state, additionalTreatment),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      selectTreatment,\n      selectAdditionalTreatment,\n      deselectAdditionalTreatment,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(AdditionalTreatment);\n","import * as React from 'react';\nimport { AdditionalField, FieldTypes, Treatment } from '../../forces/types';\nimport { assertUnreachable } from '../../../../utils/ts.utils';\nimport AdditionalTreatment from './AdditionalTreatment';\n\ntype Props = {\n  treatment: Treatment;\n  additionalField: AdditionalField;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst AdditionalFieldsFactory: React.FunctionComponent<Props> = ({\n  className,\n  treatment,\n  additionalField,\n  ...props\n}) => {\n  switch (additionalField.type) {\n    case FieldTypes.Treatment: {\n      const additionalTreatment = additionalField as Treatment;\n      return (\n        <AdditionalTreatment\n          parentTreatment={treatment}\n          additionalTreatment={additionalTreatment}\n          className={className}\n        />\n      );\n    }\n    case FieldTypes.Note:\n      return null;\n    default:\n      assertUnreachable(additionalField.type);\n      return null;\n  }\n};\n\nexport default AdditionalFieldsFactory;\n","import * as React from 'react';\nimport { AdditionalField, Treatment } from '../../forces/types';\nimport AdditionalFieldsFactory from './AdditionalFieldsFactory';\n\ntype Props = {\n  treatment: Treatment;\n  additionalFields: Array<AdditionalField>;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst AdditionalFields: React.FunctionComponent<Props> = ({\n  additionalFields,\n  treatment,\n  className,\n  ...props\n}) => {\n  if (additionalFields.length === 0) {\n    return null;\n  }\n  return (\n    <>\n      {additionalFields.map((additionalField, index) => (\n        <AdditionalFieldsFactory\n          key={index}\n          treatment={treatment}\n          additionalField={additionalField}\n          className={className}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default AdditionalFields;\n","import * as React from 'react';\nimport ReactAnimateHeight from 'react-animate-height';\n\ntype Props = {\n  height: number | 'auto';\n} & React.HTMLAttributes<HTMLElement>;\n\nconst AnimateHeight: React.FunctionComponent<Props> = ({ className, ...props }) => {\n  return (\n    <ReactAnimateHeight easing=\"ease\" duration={300} height={props.height} className={className}>\n      {props.children}\n    </ReactAnimateHeight>\n  );\n};\n\nexport default AnimateHeight;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport AddTreatmentStyles from './AddTreatments.module.css';\nimport { Treatment } from '../../forces/types';\nimport CallToActionButton from '../../../../common/components/callToAction/CallToActionButton';\nimport styles from '../additionalFields/AdditionalTreatment.module.css';\n\ntype Props = {\n  treatment: Treatment;\n  addTreatment(): void;\n  subtractTreatment(): void;\n  count: number;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst SelectNumberOfTreatments: React.FunctionComponent<Props> = (props: Props) => {\n  return (\n    <div className={styles.containerInner}>\n      <span>Antall behandlinger</span>\n      <div className={AddTreatmentStyles.buttonContainer}>\n        <CallToActionButton\n          styleType=\"noline\"\n          className={classNames(AddTreatmentStyles.button)}\n          theme=\"dark\"\n          onClick={() => {\n            props.subtractTreatment();\n          }}>\n          -\n        </CallToActionButton>\n        <span className={AddTreatmentStyles.count}>\n          {props.count ? props.count : 0 /* Count of amount specific treatment */}\n        </span>\n        <CallToActionButton\n          styleType=\"noline\"\n          className={classNames(AddTreatmentStyles.button)}\n          theme=\"dark\"\n          onClick={() => {\n            props.addTreatment();\n          }}>\n          +\n        </CallToActionButton>\n      </div>\n    </div>\n  );\n};\n\nexport default SelectNumberOfTreatments;\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport * as styles from './TreatmentList.module.css';\nimport AdditionalTreatmentStyles from './additionalFields//AdditionalTreatment.module.css';\nimport { BodyBolderText } from '../../../common/components/texts';\nimport { TreatmentType, Treatment } from '../forces/types';\nimport TreatmentSelectionButton from './TreatmentSelectionButton';\nimport SectionListTitle from '../../../common/components/section/SectionListTitle';\nimport AdditionalFields from './additionalFields/AdditionalFields';\nimport { formatToNOK } from '../../../utils/currency.utils';\nimport AnimateHeight from '../../../common/components/animation/AnimateHeight';\nimport { RootState } from '../../../root.reducer';\nimport {\n  isTreatmentSelected,\n  hasSelectedAdditionalField,\n  getTotalPriceOfAdditionalTreatments,\n  numberOfSpecificTreatment,\n} from '../../booking/forces/selectors';\nimport AddTreatments from './addTreatments/AddTreatments';\n\ninterface OwnProps {\n  treatmentType: TreatmentType;\n  handleSelection: (treatment: Treatment) => void;\n  handleDeselection: (treatment: Treatment) => void;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\nconst TreatmentList: React.FunctionComponent<Props> = ({\n  className,\n  isTreatmentSelected,\n  hasSelectedAdditionalField,\n  getTotalPriceOfAdditionalTreatments,\n  ...props\n}) => {\n  return (\n    <div className={styles.container}>\n      <SectionListTitle size=\"big\" className={styles.typeHeader}>\n        {props.treatmentType.title}\n      </SectionListTitle>\n      {props.treatmentType.treatments.map(treatment => {\n        const isSelected = isTreatmentSelected(treatment) || hasSelectedAdditionalField(treatment);\n        const totalPriceOfAdditionalTreatments = getTotalPriceOfAdditionalTreatments(treatment);\n        return (\n          <div key={treatment.id} className={styles.treatmentRow}>\n            <div className={styles.buttonContainer}>\n              <TreatmentSelectionButton\n                onClick={(treatment, isSelected) => {\n                  if (isSelected) {\n                    props.handleDeselection(treatment);\n                  } else {\n                    props.handleSelection(treatment);\n                  }\n                }}\n                isSelected={isSelected}\n                treatment={treatment}\n              />\n              <AnimateHeight height={isSelected ? 'auto' : 0} className={styles.additionalFields}>\n                <div className={AdditionalTreatmentStyles.container}>\n                  <AdditionalFields\n                    treatment={treatment}\n                    additionalFields={treatment.additionalFields}\n                  />\n                  {treatment.multiple && (\n                    <AddTreatments\n                      treatment={treatment}\n                      addTreatment={() => props.handleSelection(treatment)}\n                      subtractTreatment={() => {\n                        // Subtract selected treatment\n                        props.handleDeselection(treatment);\n                      }}\n                      count={props.numberOfTreatments(treatment)}\n                    />\n                  )}\n                </div>\n              </AnimateHeight>\n            </div>\n            <BodyBolderText className={styles.treatmentPrice}>\n              {totalPriceOfAdditionalTreatments}\n            </BodyBolderText>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  numberOfTreatments: numberOfSpecificTreatment(state),\n  isTreatmentSelected: isTreatmentSelected(state),\n  hasSelectedAdditionalField: hasSelectedAdditionalField(state),\n  getTotalPriceOfAdditionalTreatments: getTotalPriceOfAdditionalTreatments(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) => bindActionCreators({}, dispatch);\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(TreatmentList);\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport TreatmentList from '../components/TreatmentList';\nimport { Treatment } from '../forces/types';\nimport { RootState } from '../../../root.reducer';\nimport {\n  selectTreatment,\n  deselectTreatment,\n  setBookingSection,\n  scrollToBookingSection,\n} from '../../booking/forces/actions';\nimport { getTreatmentTypes } from '../forces/selectors';\nimport { BookingSectionIDs } from '../../booking/forces/types';\nimport { getBookingSectionScrollOffset } from '../../booking/forces/booking.utils';\n\ninterface OwnProps {\n  appointmentId: string;\n}\n\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\nclass TreatmentSelection extends React.Component<Props> {\n  render() {\n    const { treatmentTypes } = this.props;\n    return treatmentTypes.map(treatmentType => {\n      if (treatmentType.hidden) return null;\n      return (\n        <TreatmentList\n          key={treatmentType.id}\n          treatmentType={treatmentType}\n          handleSelection={this.handleTreatmentSelection}\n          handleDeselection={this.handleTreatmentDeselection}\n        />\n      );\n    });\n  }\n\n  setCurrentSection = () => {\n    this.props.setBookingSection(BookingSectionIDs.TreatmentSelection);\n  };\n\n  handleSelection = () => {\n    this.props.setBookingSection(BookingSectionIDs.CalendarSection);\n  };\n\n  handleTreatmentSelection = (treatment: Treatment) => {\n    const appointmentId = this.props.appointmentId;\n    this.props.selectTreatment({ treatment, appointmentId });\n    this.handleSelection();\n  };\n\n  handleTreatmentDeselection = (treatment: Treatment) => {\n    const appointmentId = this.props.appointmentId;\n    this.props.deselectTreatment({ treatment, appointmentId });\n    this.setCurrentSection();\n  };\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  treatmentTypes: getTreatmentTypes(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      selectTreatment,\n      deselectTreatment,\n      setBookingSection,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(TreatmentSelection);\n","import * as React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport FormInput, { FormType } from '../../../common/components/form/FormInput';\nimport { RootState } from '../../../root.reducer';\nimport { getCustomerInfo } from '../../booking/forces/selectors';\nimport { updateCustomerInfo } from '../../booking/forces/actions';\n\ninterface OwnProps {}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\ninterface FormFields {\n  type: FormType;\n  placeholder: string;\n  customerInfoKey: string;\n}\nclass CustomerInfoForm extends React.Component<Props> {\n  constructor(props: Props) {\n    super(props);\n  }\n\n  private formFields: Array<FormFields> = [\n    {\n      type: 'name',\n      placeholder: 'Navn *',\n      customerInfoKey: 'name',\n    },\n    {\n      type: 'tel',\n      placeholder: 'Telefonnummer *',\n      customerInfoKey: 'phoneNumber',\n    },\n    {\n      type: 'email',\n      placeholder: 'Epost *',\n      customerInfoKey: 'email',\n    },\n  ];\n\n  render() {\n    const { updateCustomerInfo } = this.props;\n    return (\n      <form>\n        {this.formFields.map(formField => (\n          <FormInput\n            key={formField.customerInfoKey}\n            type={formField.type}\n            placeholder={formField.placeholder}\n            onChange={event =>\n              updateCustomerInfo({ [formField.customerInfoKey]: event.target.value })\n            }\n            value={this.props.customerInfo[formField.customerInfoKey]}\n          />\n        ))}\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  customerInfo: getCustomerInfo(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      updateCustomerInfo,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(CustomerInfoForm);\n","import * as React from 'react';\n\nimport ConfirmActionModal from '../../../common/components/modal/ConfirmActionModal';\nimport { BodyText } from '../../../common/components/texts';\n\ninterface CancelBookingModalProps {\n  isOpen: boolean;\n  message: string;\n  canceling: boolean;\n  triggerCancel: () => void;\n  toggleOpen: () => void;\n}\n\nconst CancelBookingModal: React.FunctionComponent<CancelBookingModalProps> = ({\n  isOpen,\n  triggerCancel,\n  canceling,\n  toggleOpen,\n  message,\n}) => {\n  return (\n    <ConfirmActionModal\n      isOpen={isOpen}\n      showButtons={!canceling}\n      handleResponse={response => {\n        if (response) {\n          triggerCancel();\n        } else {\n          toggleOpen();\n        }\n      }}>\n      {message && <BodyText style={{ marginBottom: 'rem' }}>{message}</BodyText>}\n    </ConfirmActionModal>\n  );\n};\n\nexport default CancelBookingModal;\n","import * as React from 'react';\nimport { navigate } from 'gatsby';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../root.reducer';\nimport {\n  getSelectedTreatments,\n  isBookingValid,\n  isSubmitting,\n  getTotalPrice,\n  getTotalDuration,\n  getSelectedDate,\n  getSelectedTime,\n  getSubmissionError,\n  getUsePoints,\n  getEditMode,\n  getBooking,\n  getCancelBookingError,\n  getSelectedClinicId,\n} from '../forces/selectors';\nimport {\n  deselectTreatment,\n  toggleUsePoints,\n  bookAppointment,\n  updateAppointment,\n} from '../forces/actions';\nimport { cancelBooking } from '../../bookings/forces/actions';\nimport { Treatment } from '../../treatment/forces/types';\nimport BookingOverview from '../components/BookingOverview';\nimport FormAlert from '../../../common/components/form/FormAlert';\nimport CancelBooking from '../../user/components/CancelBooking';\nimport { getCurrentUser, isLoggedIn, isMember } from '../../user/forces/selectors';\nimport { getOlioPointsRounded } from '../../../utils/currency.utils';\nimport BOOKING_TEXTS from '../assets/texts';\nimport styles from './BookingOrderOverview.module.css';\nimport Routes from '../../../common/routing/Routes';\nimport { getSelectedClinic } from '../../clinics/forces/selectors';\n\ninterface OwnProps {\n  appointmentId: string;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\ninterface State {\n  showCancelBookingModal: boolean;\n}\n\nclass BookingOrderOverview extends React.Component<Props, State> {\n  state: State = {\n    showCancelBookingModal: false,\n  };\n\n  getPointsConfig() {\n    const { isLoggedIn, currentUser, usePoints, toggleUsePoints } = this.props;\n    if (!isLoggedIn || currentUser == null) {\n      return null;\n    }\n    return {\n      usePoints,\n      currentAmount: getOlioPointsRounded(currentUser.points),\n      onCheckboxChange: toggleUsePoints,\n    };\n  }\n\n  toggleCancel() {\n    this.setState({ showCancelBookingModal: !this.state.showCancelBookingModal });\n  }\n\n  async cancelBooking() {\n    const { booking } = this.props;\n    if (booking.id && booking.waitlistId) {\n      const cancelBookingParams = {\n        id: booking.id,\n        waitlistId: booking.waitlistId,\n      };\n      try {\n        await this.props.cancelBooking(cancelBookingParams);\n        navigate(Routes.Bookings());\n      } catch (err) {\n        this.toggleCancel();\n      }\n    }\n  }\n\n  render() {\n    const {\n      selectedDate,\n      selectedTime,\n      totalPrice,\n      totalDuration,\n      selectedTreatments,\n      selectedClinic,\n      bookAppointment,\n      updateAppointment,\n      isBookingValid,\n      isSubmitting,\n      submissionError,\n      cancelBookingError,\n      editMode,\n      userIsMember,\n    } = this.props;\n    const showCancelBookingModal = this.state.showCancelBookingModal;\n\n    const bookingButtonText = editMode ? BOOKING_TEXTS.BUTTONS.UPDATE : BOOKING_TEXTS.BUTTONS.BOOK;\n    const callback = editMode ? updateAppointment : bookAppointment;\n    const rightButton = {\n      callback: callback,\n      callbackText: bookingButtonText,\n      validation: isBookingValid,\n      isSubmitting: isSubmitting,\n    };\n    const cancelButton = editMode\n      ? {\n          callback: () => {\n            this.toggleCancel();\n          },\n          callbackText: BOOKING_TEXTS.BUTTONS.CANCEL,\n          validation: isBookingValid,\n          isSubmitting: isSubmitting,\n          isSecondary: true,\n        }\n      : undefined;\n    const pointsConfig = this.getPointsConfig();\n    const confirmationText = userIsMember\n      ? 'Kansellerer du timen vil du bli refundert i olio-poeng.'\n      : 'Timen vil bli kansellert.';\n    return (\n      <div className={styles.container}>\n        <BookingOverview\n          selectedDate={selectedDate}\n          selectedTime={selectedTime}\n          totalPrice={totalPrice}\n          totalDuration={totalDuration}\n          selectedTreatments={selectedTreatments}\n          selectedClinic={selectedClinic}\n          deselectTreatment={treatment => this.handleTreatmentDeselection(treatment)}\n          dateTimeMessage={BOOKING_TEXTS.MESSAGES.MEET_UP_ON_TIME}\n          rightButton={rightButton}\n          cancelButton={cancelButton}\n          pointsConfig={pointsConfig}\n          userIsMember={userIsMember}\n          editMode={editMode}\n        />\n        <FormAlert error={submissionError || cancelBookingError} />\n\n        {showCancelBookingModal && (\n          <CancelBooking\n            isOpen={showCancelBookingModal}\n            triggerCancel={() => {\n              this.cancelBooking();\n            }}\n            toggleOpen={() => {\n              this.toggleCancel();\n            }}\n            message={confirmationText}\n          />\n        )}\n      </div>\n    );\n  }\n\n  handleTreatmentDeselection = (treatment: Treatment) => {\n    const appointmentId = this.props.appointmentId;\n    this.props.deselectTreatment({ treatment, appointmentId });\n  };\n}\n\nconst mapStateToProps = (state: RootState) => {\n  const selectedClinicId = getSelectedClinicId(state);\n  return {\n    selectedTreatments: getSelectedTreatments(state),\n    selectedClinic: getSelectedClinic(state, selectedClinicId),\n    selectedDate: getSelectedDate(state),\n    selectedTime: getSelectedTime(state),\n    totalPrice: getTotalPrice(state),\n    totalDuration: getTotalDuration(state),\n    isSubmitting: isSubmitting(state),\n    isBookingValid: isBookingValid(state),\n    submissionError: getSubmissionError(state),\n    currentUser: getCurrentUser(state),\n    isLoggedIn: isLoggedIn(state),\n    userIsMember: isMember(state),\n    usePoints: getUsePoints(state),\n    editMode: getEditMode(state),\n    booking: getBooking(state),\n    cancelBookingError: getCancelBookingError(state),\n    state,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      deselectTreatment,\n      bookAppointment,\n      updateAppointment,\n      toggleUsePoints,\n      cancelBooking,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookingOrderOverview);\n","import 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\nimport './_calendar.css';\n\nimport * as React from 'react';\nimport moment, { Moment } from 'moment';\nimport 'moment/locale/nb';\nimport { DayPickerSingleDateController } from 'react-dates';\nimport { AvailableDay } from '../../../domain/clinic/forces/types';\nimport LoadingIndicator from '../loadingIndicator/LoadingIndicator';\nimport { formatToAPIDate, dayIsBefore, numericDateToMoment } from '../../../utils/date.utils';\nimport styles from './Calendar.module.css';\n\ninterface State {\n  calendarWidth: number;\n  initialDate: number | null;\n}\ntype Props = {\n  handleSelection: (date: number) => void;\n  handleMonthChange: (from: string, to: string) => void;\n  date: number | null;\n  availableDays: { [date: string]: AvailableDay };\n  isLoading: boolean;\n} & React.HTMLAttributes<HTMLElement>;\n\nclass Calendar extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.setUpMoment();\n\n    this.state = {\n      calendarWidth: 0,\n      initialDate: null,\n    };\n    this.setCalendarSize = this.setCalendarSize.bind(this);\n  }\n\n  setUpMoment() {\n    moment.updateLocale('nb', { weekdaysMin: 'S_M_T_W_T_F_S'.split('_') });\n    moment().format('dd');\n  }\n\n  checkAndSetInitialDate() {\n    if (this.props.date) {\n      this.setState({\n        initialDate: this.props.date,\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setCalendarSize();\n    this.checkAndSetInitialDate();\n    window.addEventListener('resize', this.setCalendarSize);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.setCalendarSize);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const dateSet = !prevProps.date && this.props.date;\n    if (dateSet) {\n      this.setState({\n        initialDate: this.props.date,\n      });\n    }\n  }\n\n  getInitialMonth(date: number | null) {\n    let initialMonth = date ? () => numericDateToMoment(date) : null;\n    return initialMonth;\n  }\n\n  isDayBlocked = (day: Moment) => {\n    const previousDate = dayIsBefore(day);\n    const unavailableDay = !this.isDayAvailable(day);\n    return previousDate || unavailableDay;\n  };\n\n  isDayAvailable = (day: Moment) => {\n    const dateFormattedToAPI = formatToAPIDate(day);\n    return !!this.props.availableDays[dateFormattedToAPI];\n  };\n\n  render() {\n    const date = this.props.date ? numericDateToMoment(this.props.date) : null;\n    return (\n      <div className={styles.calendarContainer}>\n        <DayPickerSingleDateController\n          date={date}\n          focused={true}\n          initialVisibleMonth={this.getInitialMonth(this.state.initialDate)}\n          onDateChange={(newdate: Moment) => {\n            this.props.handleSelection(newdate.valueOf());\n          }}\n          isDayBlocked={(d: Moment) => this.isDayBlocked(d)}\n          onPrevMonthClick={(date: Moment) =>\n            this.props.handleMonthChange(\n              date.startOf('month').format('DD-MM-YYYY'),\n              date.endOf('month').format('DD-MM-YYYY')\n            )\n          }\n          onNextMonthClick={(date: Moment) =>\n            this.props.handleMonthChange(\n              date.startOf('month').format('DD-MM-YYYY'),\n              date.endOf('month').format('DD-MM-YYYY')\n            )\n          }\n          numberOfMonths={1}\n          firstDayOfWeek={1}\n          daySize={this.state.calendarWidth}\n          monthFormat=\"MMMM\"\n          noBorder={true}\n          navPrev={<div className={'prevButton'} />}\n          navNext={<div className={'nextButton'} />}\n        />\n\n        {this.renderLoadingIfNeeded()}\n      </div>\n    );\n  }\n\n  renderLoadingIfNeeded() {\n    if (!this.props.isLoading) {\n      return null;\n    }\n    return (\n      <div className={styles.loadingContainer}>\n        <LoadingIndicator className={styles.loadingIndicator} />\n      </div>\n    );\n  }\n\n  setCalendarSize() {\n    const width = window.innerWidth;\n    let calendarSize = 0;\n    if (width >= 1200) {\n      calendarSize = 75;\n    } else if (width >= 992) {\n      calendarSize = 61;\n    } else if (width >= 768) {\n      calendarSize = 63;\n    } else if (width >= 576) {\n      calendarSize = 71;\n    } else {\n      calendarSize = Math.round(width / 7 - 9);\n    }\n    this.setState({ calendarWidth: calendarSize });\n  }\n}\nexport default Calendar;\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport Calendar from '../../../common/components/calendar/Calendar';\nimport { RootState } from '../../../root.reducer';\nimport { getAvailableDates, isAvailableDatesLoading } from '../../clinic/forces/selectors';\nimport { getAvailability } from '../../clinic/forces/actions';\nimport {\n  selectDate,\n  scrollToBookingSection,\n  setBookingSection,\n} from '../../booking/forces/actions';\nimport {\n  getSelectedDate,\n  hasSelectedTreatments,\n  hasSelectedClinic,\n} from '../../booking/forces/selectors';\nimport { BodyText } from '../../../common/components/texts';\nimport { BookingSectionIDs } from '../../booking/forces/types';\nimport { Moment } from 'moment';\nimport {\n  formatToAPIDate,\n  getStartOfMonth,\n  getEndOfMonth,\n  isSelectedDateCurrentMonth,\n  numericDateToMoment,\n} from './../../../utils/date.utils';\n\ninterface OwnProps {\n  appointmentId: string;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\nclass CalendarSection extends React.Component<Props> {\n  componentDidUpdate(prevProps: Props) {\n    const { selectedDate } = this.props;\n    if (selectedDate && prevProps.selectedDate !== selectedDate) {\n      const selectedDateSetFirstTime =\n        !prevProps.selectedDate && prevProps.selectedDate !== selectedDate;\n      this.checkAndGetAvailabilityByInitialDate(selectedDateSetFirstTime, selectedDate);\n    }\n  }\n\n  checkAndGetAvailabilityByInitialDate(selectedDateSetFirstTime: boolean, selectedDate: number) {\n    let selectedIsCurrentMonth = selectedDateSetFirstTime\n      ? isSelectedDateCurrentMonth(selectedDate)\n      : true;\n    if (selectedDateSetFirstTime && !selectedIsCurrentMonth) {\n      let momentDate = numericDateToMoment(selectedDate);\n      this.changeMonth(momentDate);\n    }\n  }\n\n  changeMonth(date: Moment) {\n    const start = formatToAPIDate(getStartOfMonth(date));\n    const end = formatToAPIDate(getEndOfMonth(date));\n    this.handleMonthChange(start, end);\n  }\n\n  renderNoTreatmentsOrClinicSelected() {\n    return <BodyText>Velg behandling og lokasjon først for å kunne velge dato</BodyText>;\n  }\n\n  scrollToNextSection = () => {\n    this.props.setBookingSection(BookingSectionIDs.TimeSection);\n    scrollToBookingSection(BookingSectionIDs.TimeSection);\n  };\n\n  handleDateSelection = (date: number) => {\n    this.scrollToNextSection();\n    this.props.selectDate(date);\n  };\n\n  handleMonthChange = (from: string, to: string) => {\n    const appointmentId = this.props.appointmentId;\n    this.props.getAvailability({ from, to, appointmentId });\n  };\n\n  getDate = (hasAvailableDates: boolean, selectedDate: number | null) => {\n    return hasAvailableDates ? selectedDate : null;\n  };\n\n  render() {\n    if (!this.props.hasSelectedTreatments || !this.props.hasSelectedClinic) {\n      return this.renderNoTreatmentsOrClinicSelected();\n    }\n    const date = this.getDate(this.props.availableDates ? true : false, this.props.selectedDate);\n    const availableDays = this.props.availableDates ? this.props.availableDates.availableDays : {};\n    const isLoading = this.props.isAvailableDatesLoading;\n    return (\n      <Calendar\n        handleSelection={this.handleDateSelection}\n        date={date}\n        availableDays={availableDays}\n        handleMonthChange={this.handleMonthChange}\n        isLoading={isLoading}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  availableDates: getAvailableDates(state),\n  selectedDate: getSelectedDate(state),\n  isAvailableDatesLoading: isAvailableDatesLoading(state),\n  hasSelectedTreatments: hasSelectedTreatments(state),\n  hasSelectedClinic: hasSelectedClinic(state),\n  state,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      selectDate,\n      getAvailability,\n      setBookingSection,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(CalendarSection);\n","import React from 'react';\nimport * as styles from './TimeSelectionButton.module.css';\nimport classNames from 'classnames';\n\ntype Props = {\n  handleSelection: Function;\n  time: number;\n  selectedTime: number | null;\n  available: number;\n  infoText: string;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst TimeSelectionButton: React.ForwardRefExoticComponent<Props> = React.forwardRef<\n  HTMLButtonElement,\n  Props\n>(({ className, infoText, ...props }, ref) => {\n  const { available, time, selectedTime } = props;\n  const isSelected = time === selectedTime;\n  const isUnAvailable = available <= 0;\n\n  const determineStyling = () => {\n    if (isSelected) {\n      return styles.selected;\n    }\n    if (isUnAvailable) {\n      return styles.unavailable;\n    }\n    if (!isSelected) {\n      return styles.unselected;\n    }\n  };\n  let buttonStyle = determineStyling();\n  const handleClick = () => (!isUnAvailable ? props.handleSelection(props.time) : null);\n  const cssClassName = classNames(styles.button, buttonStyle);\n  return (\n    <button ref={ref} className={cssClassName} onClick={handleClick}>\n      {infoText}\n    </button>\n  );\n});\n\nexport default TimeSelectionButton;\n","import * as React from 'react';\nimport * as styles from './TimeSelectionSection.module.css';\nimport TimeSelectionButton from '../components/TimeSelectionButton';\nimport { H3, BodyText } from '../../../common/components/texts';\nimport { TimeSlots, IGroupedTimeSlots, AvailableDatesResponse } from '../../clinic/forces/types';\nimport { formatToAPIDate, getStartOfDay, numericDateToMoment } from '../../../utils/date.utils';\nimport { getSelectedTime, getSelectedDate } from '../../booking/forces/selectors';\nimport {\n  selectTime,\n  scrollToBookingSection,\n  setBookingSection,\n} from '../../booking/forces/actions';\nimport { getAvailableDates, isAvailableDatesLoading } from '../../clinic/forces/selectors';\nimport { RootState } from '../../../root.reducer';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { BookingSectionIDs } from '../../booking/forces/types';\nimport { isLoggedIn } from '../../user/forces/selectors';\nimport { shouldShowBillingForm } from '../../booking/forces/selectors';\n\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\n\ntype Props = {\n  handleTimeSelection: (time: number) => void;\n  timeslots: TimeSlots[];\n  selectedTime: number | null;\n} & React.HTMLAttributes<HTMLElement> &\n  DispatchProps &\n  StateProps;\n\ninterface ITimeSectionComponentProps {\n  header: string;\n  timeSectionTimeSlots: TimeSlots[];\n}\nclass TimeSelectionSection extends React.Component<Props> {\n  timeSectionComponent: React.FunctionComponent<ITimeSectionComponentProps> = ({\n    header,\n    timeSectionTimeSlots,\n  }) => {\n    const noAvailableSlotInSection =\n      timeSectionTimeSlots.length > 0 && !this.hasAvailableSlot(timeSectionTimeSlots);\n    if (noAvailableSlotInSection) {\n      return null;\n    }\n    return (\n      <div className={styles.timeSection}>\n        <div className={styles.header}>\n          <H3>{header}</H3>\n        </div>\n        <div className={styles.timeSlotList}>\n          {timeSectionTimeSlots.map(timeslot => {\n            return (\n              <TimeSelectionButton\n                key={timeslot.time}\n                handleSelection={(time: number) => this.handleTimeSelection(time)}\n                time={timeslot.time}\n                infoText={timeslot.info}\n                available={timeslot.availability}\n                selectedTime={this.props.selectedTime}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  scrollToNextSection = () => {\n    const { shouldShowBillingForm, isLoggedIn } = this.props;\n    const sectionIfLoggedIn = shouldShowBillingForm\n      ? BookingSectionIDs.BillingSection\n      : BookingSectionIDs.Overview;\n    const nextSection = isLoggedIn ? sectionIfLoggedIn : BookingSectionIDs.CustomerInfo;\n\n    this.props.setBookingSection(nextSection);\n    scrollToBookingSection(nextSection);\n  };\n\n  handleTimeSelection = (time: number) => {\n    this.scrollToNextSection();\n    this.props.selectTime(time);\n  };\n\n  noTimeSlotsAvailableComponent: React.FunctionComponent = () => (\n    <BodyText>\n      Sorry! <br /> Ingen behandlinger er tilgjengelig for valgte datoen..\n    </BodyText>\n  );\n  areTimeSlotsAvailable(groupedTimeSlots: IGroupedTimeSlots[]): boolean {\n    return (\n      groupedTimeSlots\n        .filter(slotGroup => this.hasSlots(slotGroup.slots))\n        .filter(slotGroup => this.hasAvailableSlot(slotGroup.slots)).length > 0\n    );\n  }\n  hasSlots(timeslots: TimeSlots[]) {\n    return timeslots.length != 0;\n  }\n  hasAvailableSlot(categorizedTimeslots: TimeSlots[]): boolean {\n    return categorizedTimeslots.filter(timeSlot => timeSlot.availability > 0).length > 0;\n  }\n\n  mapTimeslotsToSection(slots: TimeSlots[]): IGroupedTimeSlots[] {\n    const TIMES_IN_MS = {\n      NOON: 43200000,\n      AFTERNOON: 60300000,\n    };\n    const GROUPINGS = {\n      MORNING: 'Morgen',\n      AFTERNOON: 'Ettermiddag',\n      EVENING: 'Kveld',\n    };\n    const morningSlots = slots.filter(timeslot => timeslot.time < TIMES_IN_MS.NOON);\n    const afternoonSlots = slots.filter(\n      timeslot => timeslot.time >= TIMES_IN_MS.NOON && timeslot.time < TIMES_IN_MS.AFTERNOON\n    );\n    const eveningSlots = slots.filter(timeslot => timeslot.time >= TIMES_IN_MS.AFTERNOON);\n    return [\n      { name: GROUPINGS.MORNING, slots: morningSlots },\n      { name: GROUPINGS.AFTERNOON, slots: afternoonSlots },\n      { name: GROUPINGS.EVENING, slots: eveningSlots },\n    ];\n  }\n\n  getGroupedTimeSlots(\n    availableDates: AvailableDatesResponse,\n    selectedDate: number\n  ): IGroupedTimeSlots[] {\n    const dateToUse = formatToAPIDate(getStartOfDay(numericDateToMoment(selectedDate)));\n    const slots = availableDates.availableDays[dateToUse].slots;\n    return this.mapTimeslotsToSection(slots);\n  }\n\n  render() {\n    const { selectedDate, availableDates } = this.props;\n    const datesLoadingAndnoDatesAvailable =\n      this.props.isAvailableDatesLoading || availableDates.firstAvailableDay == null;\n    if (datesLoadingAndnoDatesAvailable) {\n      return null;\n    }\n    if (!selectedDate) {\n      return <BodyText>Du må velge en dato først for å kunne velge time</BodyText>;\n    } else if (!availableDates.availableDays[formatToAPIDate(selectedDate)]) {\n      return null;\n    }\n\n    const categorizedTimeslots: IGroupedTimeSlots[] = this.getGroupedTimeSlots(\n      availableDates,\n      selectedDate\n    );\n    const TimeSectionComponent = this.timeSectionComponent;\n\n    const timeSlotsAvailable = this.areTimeSlotsAvailable(categorizedTimeslots);\n    const NoTimeSlotsAvailable = this.noTimeSlotsAvailableComponent;\n    return (\n      <div>\n        {categorizedTimeslots.map(slotGroup => (\n          <div key={slotGroup.name}>\n            <TimeSectionComponent header={slotGroup.name} timeSectionTimeSlots={slotGroup.slots} />\n          </div>\n        ))}\n        {!timeSlotsAvailable && <NoTimeSlotsAvailable />}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  availableDates: getAvailableDates(state),\n  selectedDate: getSelectedDate(state),\n  selectedTime: getSelectedTime(state),\n  isAvailableDatesLoading: isAvailableDatesLoading(state),\n  isLoggedIn: isLoggedIn(state),\n  shouldShowBillingForm: shouldShowBillingForm(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      selectTime,\n      setBookingSection,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(TimeSelectionSection);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { PoseGroup } from 'react-pose';\nimport { RootState } from '../../../root.reducer';\nimport { setPaymentInformation } from '../../user/forces/actions';\nimport { BodyBolderText } from '../../../common/components/texts';\nimport { getBookingUI } from '../../booking/forces/selectors';\nimport { toggleShowAddedPaymentInfoSuccess } from '../../booking/forces/actions';\nimport PaymentContainer from '../../user/containers/PaymentContainer';\nimport SuccessAnimation from '../../../common/animations/SuccessAnimation';\nimport ContainerAnimation from '../../../common/animations/ContainerAnimation';\nimport styles from './BillingSection.module.css';\n\nconst TEXTS = {\n  MAIN:\n    'For å kunne booke som medlem, trenger vi betalingsinformasjonen din. Kortet ditt vil bli belastet kun når du har booket time.',\n};\n\ninterface OwnProps {}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\ninterface State {\n  hasUpdatedPaymentInfo: boolean;\n}\n\nclass BillingSection extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasUpdatedPaymentInfo: false,\n    };\n  }\n\n  render() {\n    const { bookingUIConfig } = this.props;\n\n    return (\n      <div>\n        <PoseGroup>\n          {bookingUIConfig.showAddedPaymentInfoSuccess ? (\n            <ContainerAnimation key=\"success\">\n              <SuccessAnimation />\n            </ContainerAnimation>\n          ) : (\n            <ContainerAnimation key=\"form\">\n              <BodyBolderText className={styles.text}>{TEXTS.MAIN}</BodyBolderText>\n              <PaymentContainer\n                hideSkipButton\n                buttonText=\"Submit\"\n                onSubmitCardToken={async cardToken => {\n                  await this.props.setPaymentInformation({ cardToken });\n                }}\n                onPaymentSubmitted={() => {\n                  this.props.toggleShowAddedPaymentInfoSuccess(true);\n                }}\n              />\n            </ContainerAnimation>\n          )}\n        </PoseGroup>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  bookingUIConfig: getBookingUI(state),\n});\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      setPaymentInformation,\n      toggleShowAddedPaymentInfoSuccess,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(BillingSection);\n","import * as React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { RootState } from '../../../root.reducer';\nimport { getSelectedClinicId } from '../../booking/forces/selectors';\nimport { changeSelectedClinicId, setBookingSection } from '../../booking/forces/actions';\nimport { BookingSectionIDs } from '../../booking/forces/types';\nimport { fetchAllClinics } from '../forces/actions';\nimport { getAllClinics } from '../forces/selectors';\nimport CallToActionButton, {\n  CallToActionProps,\n} from '../../../common/components/callToAction/CallToActionButton';\nimport styles from './ClinicSection.module.css';\nimport LoadingIndicator from '../../../common/components/loadingIndicator/LoadingIndicator';\n\ninterface OwnProps {\n  selectedWaitlistId?: string | null;\n}\n\ninterface State {\n  selectedWaitlistId?: string | null;\n  hasFetchedClinics: boolean;\n}\n\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\nclass ClinicSection extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasFetchedClinics: false,\n    };\n  }\n\n  componentDidMount = () => {\n    const hasFetchedClinics = this.state.hasFetchedClinics;\n    if (!hasFetchedClinics) {\n      this.props.fetchAllClinics();\n      this.setState({ hasFetchedClinics: true });\n    }\n  };\n\n  handleSelection = () => {\n    this.props.setBookingSection(BookingSectionIDs.CalendarSection);\n  };\n\n  selectClinic = (clinicId: string) => {\n    this.props.changeSelectedClinicId(clinicId);\n    this.handleSelection();\n  };\n\n  renderClinicButtons = (selectedClinicId: string | null) => {\n    const allClinics = this.props.allClinics;\n    return allClinics.map(clinic => (\n      <CallToActionButton\n        key={clinic.id}\n        styleType={clinic.id === selectedClinicId ? 'secondary' : 'outlined'}\n        theme=\"light\"\n        size=\"normal\"\n        className={styles.locationButton}\n        onClick={() => this.selectClinic(clinic.id)}>\n        {clinic.name}\n      </CallToActionButton>\n    ));\n  };\n\n  render() {\n    if (!this.state.hasFetchedClinics) {\n      return <LoadingIndicator />;\n    }\n    const selectedClinicId = this.props.selectedClinicId ? this.props.selectedClinicId : null;\n    return (\n      <div className={styles.container}>\n        <div className={styles.divider} />\n        <div className={styles.locationButtonContainer}>\n          {this.renderClinicButtons(selectedClinicId)}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedClinicId: getSelectedClinicId(state),\n  allClinics: getAllClinics(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      changeSelectedClinicId,\n      setBookingSection,\n      fetchAllClinics,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(ClinicSection);\n","import * as React from 'react';\nimport TreatmentSelection from '../../treatment/containers/TreatmentSelection';\nimport CustomerInfoForm from '../../customerInfo/containers/CustomerInfoForm';\nimport BookingOrderOverview from '../containers/BookingOrderOverview';\nimport { BookingSectionIDs, BookingSection, BookingContext } from '../forces/types';\nimport {\n  hasSelectedTreatments,\n  hasCustomerInfo,\n  isBookingValid,\n  hasDate,\n  hasTime,\n  hasPaymentInfo,\n  hasSelectedClinic,\n} from '../forces/selectors';\nimport CalendarSection from '../../calendar/containers/CalendarSection';\nimport TimeSelectionSection from '../../calendar/containers/TimeSelectionSection';\nimport BillingSection from '../../customerInfo/containers/BillingSection';\nimport { isUserGuest } from '../../user/forces/selectors';\nimport ClinicSection from '../../clinics/containers/ClinicSection';\n\nconst getBookingSections = (options: {\n  appointmentId?: string;\n  isLoggedIn: boolean;\n  isUserGuest?: boolean;\n  hideTreatmentSelection?: boolean;\n  shouldShowBillingForm?: boolean;\n  editingBooking?: boolean;\n}): Array<BookingSection> => {\n  const {\n    appointmentId = '',\n    isLoggedIn,\n    hideTreatmentSelection = false,\n    shouldShowBillingForm = false,\n    editingBooking = false,\n  } = options;\n\n  let sections: BookingSection[] = [\n    {\n      id: BookingSectionIDs.TreatmentSelection,\n      title: 'Velg en eller flere behandlinger',\n      component: <TreatmentSelection appointmentId={appointmentId} />,\n      type: 'secondary',\n      sectionValidator: hasSelectedTreatments,\n    },\n    {\n      id: BookingSectionIDs.ClinicSection,\n      title: 'Lokasjon',\n      component: <ClinicSection />,\n      type: 'primary',\n      sectionValidator: hasSelectedClinic,\n    },\n    {\n      id: BookingSectionIDs.CalendarSection,\n      title: 'Dato',\n      component: <CalendarSection appointmentId={appointmentId} />,\n      type: 'primary',\n      className: '',\n      sectionValidator: hasDate,\n    },\n    {\n      id: BookingSectionIDs.TimeSection,\n      component: <TimeSelectionSection />,\n      type: 'tertiary',\n      sectionValidator: hasTime,\n    },\n    {\n      id: BookingSectionIDs.CustomerInfo,\n      title: 'Detaljer',\n      component: <CustomerInfoForm />,\n      type: 'secondary',\n      sectionValidator: hasCustomerInfo,\n    },\n    {\n      id: BookingSectionIDs.BillingSection,\n      title: 'Betalingsinfo',\n      component: <BillingSection />,\n      type: 'secondary',\n      sectionValidator: hasPaymentInfo,\n    },\n    {\n      id: BookingSectionIDs.Overview,\n      component: <BookingOrderOverview appointmentId={appointmentId} />,\n      type: 'secondary',\n      sectionValidator: isBookingValid,\n    },\n  ];\n\n  if (!shouldShowBillingForm) {\n    sections = sections.filter(section => section.id != BookingSectionIDs.BillingSection);\n  }\n  if (hideTreatmentSelection) {\n    sections = sections.filter(section => section.id != BookingSectionIDs.TreatmentSelection);\n  }\n  if (editingBooking) {\n    sections = sections.filter(section => section.id != BookingSectionIDs.TreatmentSelection);\n    sections[0].className = 'offsetTop';\n  }\n  if (!isLoggedIn) {\n    // Return all sections if the user is not logged in\n    return sections;\n  }\n\n  // Filter out the customer info section if the user is logged in\n  return sections.filter(section => {\n    return section.id != BookingSectionIDs.CustomerInfo;\n  });\n};\n\nexport default getBookingSections;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport Scroll from 'react-scroll';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { RouterProps, RouteComponentProps, WindowLocation } from '@reach/router';\nimport BookingSection from '../components/BookingSection';\nimport PageTitle from '../../../common/components/pageTitle/PageTitle';\nimport BookingFixedBar from './BookingFixedBar';\nimport getBookingSections from '../components/bookingSections';\nimport { RootState } from '../../../root.reducer';\nimport { getAllTreatmentTypes } from '../../treatment/forces/actions';\nimport {\n  resetBookingForm,\n  prepopulateBookingWithQueryParameters,\n  populateBookingWithExistingBooking,\n  validateAndScrollBookingSections,\n  bookAppointment,\n  updateAppointment,\n} from '../forces/actions';\nimport { shouldShowBillingForm, getBookingButtonState } from '../forces/selectors';\nimport LoadingIndicator from '../../../common/components/loadingIndicator/LoadingIndicator';\nimport {\n  isTreatmentTypesLoading,\n  isAllSelectedTreamentTypesHidden,\n} from '../../treatment/forces/selectors';\nimport { isLoggedIn, isUserGuest } from '../../user/forces/selectors';\nimport Layout from '../../../common/components/layout/Layout';\nimport { getAvailability } from '../../clinic/forces/actions';\n\nimport styles from './Booking.module.css';\n\ninterface OwnProps {\n  appointmentId?: string;\n  clinicId?: string;\n  bookingId?: string;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps &\n  StateProps &\n  OwnProps &\n  RouterProps &\n  React.HTMLAttributes<HTMLElement> &\n  RouteComponentProps;\n\ninterface State {\n  loaded: boolean;\n}\n\nclass Booking extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loaded: false,\n    };\n  }\n\n  async componentDidMount() {\n    const { bookingId } = this.props;\n    if (!bookingId) {\n      this.setupNewBooking();\n    } else {\n      this.setupEditBooking(bookingId);\n    }\n    this.props.getAllTreatmentTypes();\n    this.props.prepopulateBookingWithQueryParameters(location ? location.search : null);\n  }\n\n  hasLoaded() {\n    this.setState({ loaded: true });\n  }\n\n  setupNewBooking() {\n    this.props.resetBookingForm();\n    this.hasLoaded();\n  }\n\n  setupEditBooking(bookingId: string) {\n    this.props.resetBookingForm();\n    const { clinicId } = this.props;\n    if (!clinicId) {\n      return;\n    }\n    this.props.populateBookingWithExistingBooking(clinicId, bookingId).then(() => {\n      this.hasLoaded();\n    });\n  }\n\n  renderLoading() {\n    return <LoadingIndicator />;\n  }\n\n  renderContent() {\n    const {\n      validateAndScrollBookingSections,\n      booking,\n      bookingSections,\n      bookingButton,\n    } = this.props;\n\n    const handleButton = () => {\n      if (!bookingButton.isReady) {\n        validateAndScrollBookingSections(bookingSections);\n        return;\n      }\n      if (bookingButton.isUpdate) {\n        this.props.updateAppointment();\n      } else {\n        this.props.bookAppointment();\n      }\n    };\n    const submittingBooking = booking.submission.isLoading;\n    return (\n      <>\n        {bookingSections.map(bookingSection => (\n          <Scroll.Element key={bookingSection.id} name={bookingSection.id}>\n            <BookingSection\n              title={bookingSection.title}\n              type={bookingSection.type}\n              className={bookingSection.className ? bookingSection.className : ''}>\n              {bookingSection.component}\n            </BookingSection>\n          </Scroll.Element>\n        ))}\n        <BookingFixedBar\n          onNextButtonPressed={() => handleButton()}\n          buttonState={bookingButton}\n          submitting={submittingBooking}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { className, isTreatmentTypesLoading, hideTreatmentSelection, ...props } = this.props;\n\n    const loading = isTreatmentTypesLoading && this.state.loaded;\n    return (\n      <Layout className={classNames(styles.container, className)} {...props}>\n        <PageTitle\n          className={hideTreatmentSelection ? styles.paddingBottom : undefined}\n          title=\"Booking\"\n        />\n        {loading && this.renderLoading()}\n        {!loading && this.renderContent()}\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState, ownProps: OwnProps) => {\n  const isUserLoggedIn = isLoggedIn(state);\n  const hideTreatmentSelection = isAllSelectedTreamentTypesHidden(state);\n  const bookingSections = getBookingSections({\n    appointmentId: ownProps.appointmentId,\n    isLoggedIn: isUserLoggedIn,\n    hideTreatmentSelection,\n    shouldShowBillingForm: shouldShowBillingForm(state),\n    editingBooking: state.booking.editMode || ownProps.bookingId ? true : false,\n  });\n  return {\n    isTreatmentTypesLoading: isTreatmentTypesLoading(state),\n    bookingButton: getBookingButtonState(state, bookingSections),\n    booking: state.booking,\n    bookingSections,\n    hideTreatmentSelection,\n    state,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      validateAndScrollBookingSections,\n      bookAppointment,\n      updateAppointment,\n      getAvailability,\n      resetBookingForm,\n      prepopulateBookingWithQueryParameters,\n      populateBookingWithExistingBooking,\n      getAllTreatmentTypes,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(Booking);\n","import { RootState } from '../../../root.reducer';\n\nexport const isAppSetupLoading = (state: RootState) => state.app.isLoading;\n","import React from 'react';\nimport { navigate } from 'gatsby';\nimport Routes from '../../../common/routing/Routes';\nimport { RouteComponentProps } from '@reach/router';\nimport { RootState } from '../../../root.reducer';\nimport { isLoggedIn, getCurrentUser } from '../forces/selectors';\nimport { connect } from 'react-redux';\nimport LoadingIndicator from '../../../common/components/loadingIndicator/LoadingIndicator';\nimport { isAppSetupLoading } from '../../app/forces/selectors';\nimport { UserRole } from '../forces/types';\nimport FormAlert from '../../../common/components/form/FormAlert';\n\ninterface OwnProps {\n  roles?: Array<UserRole>;\n  component: React.ComponentType<RouteComponentProps>;\n  message?: string;\n}\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = StateProps & OwnProps & React.HTMLAttributes<HTMLElement> & RouteComponentProps;\n\nconst PrivateRoute = ({\n  component: Component,\n  isLoggedIn,\n  isAppSetupLoading,\n  user,\n  roles = [UserRole.Member],\n  ...rest\n}: Props) => {\n  if (isAppSetupLoading) {\n    return <LoadingIndicator />;\n  }\n  if (!isLoggedIn) {\n    let options = {\n      state: { message: rest.message },\n    };\n    navigate(Routes.LogIn(), options);\n    return null;\n  }\n  if (user == null) {\n    return null;\n  }\n\n  if (!roles.includes(user.role)) {\n    return <FormAlert error={`You cannot access this as a ${user.role}`} />;\n  }\n\n  return <Component {...rest} />;\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  isLoggedIn: isLoggedIn(state),\n  isAppSetupLoading: isAppSetupLoading(state),\n  user: getCurrentUser(state),\n});\n\nexport default connect<StateProps, {}, OwnProps, RootState>(\n  mapStateToProps,\n  {}\n)(PrivateRoute);\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { H3, BodyText } from '../../../common/components/texts';\nimport CallToActionLink from '../../../common/components/callToAction/CallToActionLink';\nimport Routes from '../../../common/routing/Routes';\nimport config from '../../../config';\nimport styles from './BookingOlioPointsGuestInformation.module.css';\n\ntype Props = {} & React.HTMLAttributes<HTMLElement>;\n\nconst BookingOlioPointsGuestInformation: React.FunctionComponent<Props> = ({\n  className,\n  ...props\n}) => {\n  return (\n    <div className={classNames(styles.container, className)} {...props}>\n      <span className={styles.line} />\n      <H3>\n        Visste du at du kan bli medlem og tjene {config.bookingPointsEarningsPercentage}% olio-poeng\n        på alle type behandlinger?\n      </H3>\n      <BodyText>1 olio-poeng = 1 kr</BodyText>\n      <CallToActionLink className={styles.callToActionButton} to={Routes.Register()}>\n        Bli medlem!\n      </CallToActionLink>\n    </div>\n  );\n};\n\nexport default BookingOlioPointsGuestInformation;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { navigate } from 'gatsby';\nimport { H1, BodyText, H3 } from '../../../common/components/texts';\nimport CallToActionLink from '../../../common/components/callToAction/CallToActionLink';\nimport Routes from '../../../common/routing/Routes';\nimport { RootState } from '../../../root.reducer';\nimport { RouteComponentProps } from '@reach/router';\nimport {\n  getSelectedTime,\n  getSelectedDate,\n  getEditMode,\n  getSelectedClinicId,\n} from '../forces/selectors';\nimport { formatToDateAndYear, formatDurationToTime } from '../../../utils/date.utils';\nimport Layout from '../../../common/components/layout/Layout';\nimport BookingOlioPointsGuestInformation from '../components/BookingOlioPointsGuestInformation';\nimport { Column, Container, Row } from '../../../common/components/grid/Grid';\nimport { isLoggedIn } from '../../user/forces/selectors';\nimport { getSelectedClinic } from '../../clinics/forces/selectors';\nimport styles from './BookingSuccess.module.css';\n\ninterface OwnProps {}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps &\n  StateProps &\n  OwnProps &\n  RouteComponentProps &\n  React.HTMLAttributes<HTMLElement>;\n\nclass BookingSuccess extends React.Component<Props> {\n  componentDidMount() {\n    if (this.props.selectedDate == null || this.props.selectedTime == null) {\n      navigate(Routes.Main());\n    }\n  }\n\n  generateBookingText({\n    date,\n    time,\n    location,\n    editMode,\n  }: {\n    date: string;\n    time: string;\n    location: string;\n    editMode: boolean;\n  }) {\n    const baseText = {\n      header: ['Tusen takk!'],\n      body: `Vi gleder oss til å ta deg imot ${date} klokken ${''} ${time} på ${location} :)`,\n    };\n    if (editMode) {\n      baseText.header.push('Bookingen din er oppdatert.');\n    }\n    return baseText;\n  }\n\n  getTexts({\n    selectedTime,\n    selectedDate,\n    location,\n    editMode,\n  }: {\n    selectedTime: number;\n    selectedDate: number;\n    location: string;\n    editMode: boolean;\n  }) {\n    const date = formatToDateAndYear(selectedDate);\n    const time = formatDurationToTime(selectedTime);\n    return this.generateBookingText({ date, time, location, editMode });\n  }\n\n  generateCoronaWarningText = () => {\n    return (\n      <>\n        <H3>Smitteverntiltak Covid-19</H3>\n        <p>\n          Helsen og sikkerheten til våre kunder og ansatte er vår høyeste prioritet. Med veiledning\n          fra helsemyndighetene overholder vi alle anbefalte smitteverntiltak.\n        </p>\n        <b>Vi kan derfor ikke behande kunder som har:</b>\n        <div className={styles.warningListContainer}>\n          <ul className={styles.warningList}>\n            <li>\n              Mindre og større symptomer på luftveisinfeksjon, f.eks feber, hoste, sår hals, eller\n              pustevansker\n            </li>\n            <li>Vært i nærkontakt med en person som har fått påvist Covid-19 de siste 14 dagene</li>\n            <li>Vært utenlands i løpet av de siste 14 dagene</li>\n          </ul>\n        </div>\n      </>\n    );\n  };\n\n  render() {\n    const {\n      className,\n      selectedTime,\n      selectedDate,\n      selectedClinic,\n      isLoggedIn,\n      editMode,\n    } = this.props;\n    const location = selectedClinic\n      ? `${selectedClinic.name} (${selectedClinic.address.streetAddress})`\n      : '';\n    if (selectedDate == null || selectedTime == null) {\n      return null;\n    }\n    const texts = this.getTexts({ selectedTime, selectedDate, location, editMode });\n    const coronaWarningText = this.generateCoronaWarningText();\n    return (\n      <Layout className={classNames(styles.container, className)}>\n        <Container>\n          <Row>\n            <Column xs={12} md={6} mdOffset={3} lg={4} lgOffset={4}>\n              <H1 className={styles.title}>\n                {texts.header[0]}\n                <br />\n                {texts.header[1]}\n                <br />\n                {texts.header[2]}\n              </H1>\n              <BodyText>{texts.body}</BodyText>\n\n              {isLoggedIn ? null : (\n                <BookingOlioPointsGuestInformation className={styles.guestInformation} />\n              )}\n            </Column>\n          </Row>\n          <Row>\n            <Column xs={12} md={12} lg={12}>\n              <BodyText>{coronaWarningText}</BodyText>\n              <CallToActionLink\n                styleType=\"outlined\"\n                theme=\"dark\"\n                to={Routes.Main()}\n                className={styles.homeButton}>\n                Hjem\n              </CallToActionLink>\n            </Column>\n          </Row>\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => {\n  const selectedClinicId = getSelectedClinicId(state);\n  return {\n    editMode: getEditMode(state),\n    selectedDate: getSelectedDate(state),\n    selectedTime: getSelectedTime(state),\n    isLoggedIn: isLoggedIn(state),\n    selectedClinic: getSelectedClinic(state, selectedClinicId),\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => bindActionCreators({}, dispatch);\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookingSuccess);\n","import * as React from 'react';\nimport { Router, RouteComponentProps } from '@reach/router';\nimport { navigate } from 'gatsby';\nimport Routes from '../../../common/routing/Routes';\nimport Booking from '../containers/Booking';\nimport BookingSuccess from '../containers/BookingSuccess';\nimport PrivateRoute from '../../user/containers/PrivateRoute';\nimport { UserRole } from '../../user/forces/types';\nimport USER_TEXTS from '../../user/assets/texts';\n\nconst BookingPage = () => {\n  return (\n    <Router>\n      <NotFoundRoute default />\n      <Booking path=\"booking\" />\n      <Booking path=\"booking/:appointmentId\" />\n      <BookingSuccess path=\"booking/success\" />\n      <PrivateRoute\n        roles={[UserRole.Guest, UserRole.Member]}\n        path=\"booking/update/:clinicId/:bookingId\"\n        component={Booking}\n        message={USER_TEXTS.MESSAGES.LOGIN.TO_UPDATE_BOOKING}\n      />\n    </Router>\n  );\n};\n\nconst NotFoundRoute = (props: RouteComponentProps) => {\n  navigate(Routes.Main());\n  return null;\n};\n\nexport default BookingPage;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { Link as GatsbyLink, GatsbyLinkProps } from 'gatsby';\nimport Routes from '../../routing/Routes';\nimport styles from './Link.module.css';\n\ntype Props = {\n  underlined?: boolean;\n  type?: 'primary' | 'secondary';\n  to: string | null;\n} & GatsbyLinkProps<any>;\n\nconst Link: React.FunctionComponent<Props> = ({\n  className,\n  underlined,\n  type = 'primary',\n  to = Routes.Main(),\n  children,\n  getProps,\n  onClick,\n}) => {\n  return (\n    <GatsbyLink\n      to={to}\n      className={classNames(\n        styles.link,\n        { [styles.linkUnderlined]: underlined },\n        styles[type],\n        className\n      )}\n      getProps={getProps}\n      onClick={onClick}>\n      {children}\n    </GatsbyLink>\n  );\n};\n\nexport default Link;\n","import * as React from 'react';\nimport * as ReactGrid from 'react-flexbox-grid';\nimport classNames from 'classnames';\nimport styles from './Grid.module.css';\n\ntype ContainerProps = ReactGrid.GridProps;\n\nexport const Container: React.FunctionComponent<ContainerProps> = ({ className, ...props }) => {\n  return (\n    <ReactGrid.Grid className={classNames(styles.container, className)} {...props}>\n      {props.children}\n    </ReactGrid.Grid>\n  );\n};\n\ntype RowProps = ReactGrid.RowProps;\nexport const Row: React.FunctionComponent<RowProps> = props => {\n  return <ReactGrid.Row {...props}>{props.children}</ReactGrid.Row>;\n};\n\ntype ColumnProps = ReactGrid.ColProps;\nexport const Column: React.FunctionComponent<ColumnProps> = ({ children, xs = true, ...props }) => {\n  return (\n    <ReactGrid.Col xs={xs} {...props}>\n      {children}\n    </ReactGrid.Col>\n  );\n};\n","import * as React from 'react';\nimport CallToAction, {\n  CallToActionProps,\n  CallToActionStyleType,\n  CallToActionSize,\n} from './CallToAction';\n\ntype Props = {} & CallToActionProps & React.ButtonHTMLAttributes<HTMLElement>;\n\nconst CallToActionButton: React.FunctionComponent<Props> = ({ ...props }) => {\n  return <CallToAction element=\"button\" {...props} />;\n};\n\nexport type CallToActionProps = CallToActionProps;\nexport type CallToActionStyleType = CallToActionStyleType;\nexport type CallToActionSize = CallToActionSize;\nexport default CallToActionButton;\n","import * as React from 'react';\nimport CallToAction, { CallToActionProps } from './CallToAction';\nimport Link from '../link/Link';\n\ntype Props = {\n  to: string;\n} & CallToActionProps &\n  React.HTMLAttributes<HTMLElement>;\n\nconst CallToActionLink: React.FunctionComponent<Props> = ({ ...props }) => {\n  return <CallToAction element={Link} {...props} />;\n};\n\nexport default CallToActionLink;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { assertUnreachable } from '../../../utils/ts.utils';\nimport styles from './CallToAction.module.css';\n\nexport type CallToActionStyleType = 'primary' | 'secondary' | 'outlined' | 'noline';\nexport type CallToActionSize = 'large' | 'normal';\n\nexport interface CallToActionProps {\n  styleType?: CallToActionStyleType;\n  theme?: 'dark' | 'light' | 'brown';\n  size?: CallToActionSize;\n}\n\ntype Props = {\n  element: string | React.FunctionComponent<any>;\n  className?: string;\n} & CallToActionProps;\n\nconst styleTypeToClassName = (styleType: CallToActionStyleType) => {\n  switch (styleType) {\n    case 'primary':\n      return styles.primary;\n    case 'secondary':\n      return styles.secondary;\n    case 'outlined':\n      return styles.outlined;\n    case 'noline':\n      return styles.noline;\n    default:\n      assertUnreachable(styleType);\n  }\n};\n\nconst sizeToClassName = (size: CallToActionSize) => {\n  switch (size) {\n    case 'large':\n      return styles.sizeLarge;\n    case 'normal':\n      return styles.sizeNormal;\n    default:\n      assertUnreachable(size);\n  }\n};\n\nconst CallToAction: React.FunctionComponent<Props> = ({\n  className,\n  styleType = 'primary',\n  theme = 'light',\n  size = 'normal',\n  children,\n  element,\n  ...props\n}) => {\n  return React.createElement(element, {\n    className: classNames(\n      {\n        [styles.themeLight]: theme === 'light',\n        [styles.themeDark]: theme === 'dark',\n        [styles.themeBrown]: theme === 'brown',\n      },\n      styles.callToAction,\n      styleTypeToClassName(styleType),\n      sizeToClassName(size),\n      className\n    ),\n    ...props,\n    children,\n  });\n};\n\nexport default CallToAction;\n","export const assertUnreachable = (x: never): never => {\n  throw new Error(`${x} is unreachable`);\n};\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport styles from './LoadingIndicator.module.css';\n\ntype Props = {} & React.HTMLAttributes<HTMLElement>;\n\nconst LoadingIndicator: React.FunctionComponent<Props> = ({ className, ...props }) => {\n  return <div className={classNames(styles.loader, className)} {...props} />;\n};\n\nexport default LoadingIndicator;\n","import * as React from 'react';\nimport { Squeeze } from 'react-burgers';\n\ntype Props = {\n  active?: boolean;\n  color?: string;\n  lineHeight?: number;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst HamburgerMenu: React.FunctionComponent<Props> = ({\n  color = '#fff',\n  active = false,\n  lineHeight = 4,\n  ...props\n}) => {\n  return <Squeeze lineHeight={lineHeight} padding={0} color={color} active={active} {...props} />;\n};\n\nexport default HamburgerMenu;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport HamburgerMenu from '../hamburgerMenu/HamburgerMenu';\nimport Routes from '../../routing/Routes';\nimport { H2 } from '../texts';\nimport Link from '../link/Link';\nimport { navigate } from '@reach/router';\nimport Scroll from 'react-scroll';\nimport styles from './MobileMenu.module.css';\n\ntype Props = {\n  isLoggedIn: boolean;\n} & React.HTMLAttributes<HTMLElement>;\ninterface State {\n  isOpen: boolean;\n}\n\nconst menuItems = (isLoggedIn: boolean) => {\n  const items = [\n    {\n      title: 'Hjem',\n      link: Routes.Main(),\n      type: 'link',\n    },\n    {\n      title: 'Behandlinger',\n      link: Routes.TreatmentSection(),\n      type: 'pageSection',\n    },\n    {\n      title: 'Gavekort',\n      link: Routes.GiftCard(),\n      type: 'link',\n    },\n    {\n      title: 'Nettbutikk',\n      link: Routes.Store(),\n      type: 'link',\n    },\n    {\n      title: 'Om oss',\n      link: Routes.AboutSection(),\n      type: 'pageSection',\n    },\n  ];\n  if (isLoggedIn) {\n    return [\n      ...items,\n      {\n        title: `Min olio`,\n        link: Routes.Dashboard(),\n        type: 'link',\n      },\n    ];\n  }\n  return [\n    ...items,\n    {\n      title: 'Bli medlem',\n      link: Routes.Register(),\n      type: 'link',\n    },\n    {\n      title: 'Logg inn',\n      link: Routes.LogIn(),\n      type: 'link',\n    },\n  ];\n};\n\nclass MobileMenu extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n    };\n  }\n\n  toggleMenu(open: boolean) {\n    this.setState({ isOpen: open });\n  }\n\n  async scrollTo(sectionName: string) {\n    this.toggleMenu(false);\n    const isNotFrontpage = window.location.pathname !== '/';\n    if (isNotFrontpage) {\n      await navigate('/');\n    }\n    Scroll.scroller.scrollTo(sectionName, {\n      smooth: true,\n    });\n  }\n\n  render() {\n    const { className, isLoggedIn, ...props } = this.props;\n    return (\n      <div className={className}>\n        <div\n          className={classNames(styles.container, { [styles.containerVisible]: this.state.isOpen })}\n          {...props}>\n          <div\n            className={classNames(styles.innerContainer, {\n              [styles.innerContainerVisible]: this.state.isOpen,\n            })}>\n            <ul className={styles.list}>\n              {menuItems(isLoggedIn).map(menuItem => (\n                <li className={styles.listItem} key={menuItem.title}>\n                  {menuItem.type === 'link' ? (\n                    <Link\n                      className={styles.link}\n                      to={menuItem.link}\n                      onClick={() => this.toggleMenu(false)}>\n                      <H2>{menuItem.title}</H2>\n                    </Link>\n                  ) : (\n                    <H2 onClick={() => this.scrollTo(menuItem.link)}>{menuItem.title}</H2>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className={styles.hamburgerMenu}>\n          <HamburgerMenu\n            active={this.state.isOpen}\n            onClick={() => this.toggleMenu(!this.state.isOpen)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MobileMenu;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport Routes from '../../routing/Routes';\nimport FixedBarBottom from '../fixedBarBottom/FixedBarBottom';\nimport CallToActionLink from '../callToAction/CallToActionLink';\nimport Link from '../link/Link';\nimport Logo from '../logo/Logo';\nimport {\n  isLoggedIn,\n  getCurrentUser,\n  userdataIsLoading,\n} from '../../../domain/user/forces/selectors';\nimport { getFirstName } from '../../../utils/formatting.utils';\nimport MobileMenu from '../mobileMenu/MobileMenu';\nimport { RootState } from '../../../root.reducer';\nimport Scroll from 'react-scroll';\nimport { navigate } from '@reach/router';\nimport styles from './BookMenu.module.css';\nimport { windowExist } from '../../../utils/general.utils';\n\ninterface OwnProps {}\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\nconst scrollTo = async (sectionName: string) => {\n  if (windowExist()) {\n    const isStoreRoute = sectionName === '/store';\n    if (isStoreRoute) {\n      // Close snipcart store first if opened\n      let snipcartBackButton = document.getElementsByClassName('snipcart-modal__close-title');\n      if (snipcartBackButton.length > 0) {\n        const backToStoreButton = snipcartBackButton[0] as HTMLElement;\n        backToStoreButton.click();\n      }\n      navigate(sectionName);\n    } else {\n      // To be able to scroll different section on home page, if not currently on home page, navigate to it first and then scroll\n      const isNotOnHomePage = window.location.pathname !== '/';\n      if (isNotOnHomePage) {\n        await navigate('/');\n      }\n      Scroll.scroller.scrollTo(sectionName, {\n        smooth: true,\n      });\n    }\n  }\n};\n\nconst LoggedOut = (props: Props) => (\n  <div className={styles.loggedOutContainer}>\n    <span onClick={() => scrollTo(Routes.Store())} className={styles.routeLink}>\n      Nettbutikk\n    </span>\n    <span onClick={() => scrollTo(Routes.TreatmentSection())} className={styles.routeLink}>\n      Behandlinger\n    </span>\n    <Link underlined type=\"secondary\" to={Routes.GiftCard()} className={styles.routeLink}>\n      Gavekort\n    </Link>\n    <span onClick={() => scrollTo(Routes.AboutSection())} className={styles.routeLink}>\n      Om oss\n    </span>\n    <Link underlined type=\"secondary\" to={Routes.LogIn()} className={styles.routeLink}>\n      Logg inn\n    </Link>\n    <CallToActionLink styleType=\"outlined\" to={Routes.Register()} className={styles.buttons}>\n      Bli medlem!\n    </CallToActionLink>\n    <CallToActionLink styleType=\"secondary\" to={Routes.Booking()} className={styles.userSelect}>\n      Book time\n    </CallToActionLink>\n  </div>\n);\n\nconst LoggedIn = (props: Props) => {\n  if (props.isUserDataLoading || props.currentUser == null) {\n    return null;\n  }\n  return (\n    <div className={styles.loggedOutContainer}>\n      <span onClick={() => scrollTo(Routes.Store())} className={styles.routeLink}>\n        Nettbutikk\n      </span>\n      <span onClick={() => scrollTo(Routes.TreatmentSection())} className={styles.routeLink}>\n        Behandlinger\n      </span>\n      <span onClick={() => scrollTo(Routes.AboutSection())} className={styles.routeLink}>\n        Om oss\n      </span>\n      <Link underlined type=\"secondary\" to={Routes.GiftCard()} className={styles.routeLink}>\n        Gavekort\n      </Link>\n      <CallToActionLink styleType=\"outlined\" to={Routes.Dashboard()} className={styles.buttons}>\n        Hei, {getFirstName(props.currentUser.name)}! Gå til Min olio\n      </CallToActionLink>\n      <CallToActionLink styleType=\"secondary\" to={Routes.Booking()}>\n        Book time\n      </CallToActionLink>\n    </div>\n  );\n};\n\nconst BookMenu: React.FunctionComponent<Props> = props => {\n  return (\n    <FixedBarBottom\n      leftColumn={\n        <>\n          <div>\n            <Logo color=\"#fff\" />\n          </div>\n        </>\n      }\n      rightColumn={\n        <>\n          <div className={styles.rightColumn}>\n            {props.isLoggedIn ? <LoggedIn {...props} /> : <LoggedOut {...props} />}\n          </div>\n          <div className={styles.mobileMenu}>\n            <div className={styles.bookingButton}>\n              <CallToActionLink styleType=\"secondary\" to={Routes.Booking()}>\n                Book time\n              </CallToActionLink>\n            </div>\n            <MobileMenu isLoggedIn={props.isLoggedIn} />\n          </div>\n        </>\n      }\n    />\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  isLoggedIn: isLoggedIn(state),\n  currentUser: getCurrentUser(state),\n  isUserDataLoading: userdataIsLoading(state),\n  state,\n});\n\nexport default connect<StateProps, {}, OwnProps, RootState>(\n  mapStateToProps,\n  {}\n)(BookMenu);\n","export const getFirstName = (fullName: string) => {\n  const parts = fullName.split(' ');\n  return parts.length === 0 ? fullName : parts[0];\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABAdJREFUWAm9V81vTFEUP/fOVD8QrVEramzErhOsRKiQsEB0ZWHBlk0trCRimkhtfK4sbPgLCBYkRJGwoRk7sTHKik7a+mhH23nX+d3Ondx33p1nWomzeffjd88593zd8xS1SJNmsrtGtCeKoqPKqLxRlFdEeRw3RGVlqGyUKWut72WInveonqlWWDOPdGLB+fkouqBInUxHxncNmdttWg+zIuX4TnzWVAHceIEFE6kz8SNLnaliVtONZhYJKgDh85F5xpuFpYoL4dlFpTat9oaUSCjw1UwWFAtnRt0hZv+wNmVYifWqp+TziCmwaHbzsZlwNTND7a9fUltpjPTEN9KVCcsryq2jWt8mmitso/n+7WS6unwZ/ngqq9Vm3xINBdLMDsEdTx9Tx4O7PrPg2HR20e/9B6i670BQEemOhgITtcp1Q2pIcsVNV968QdnP43Irdb6wsY9+nRqiaF1vAGeGezO5IjasAnz7/EJkTR8DZ8Y/0eorl0jNzsTWW53AGtOXrgYtUXdFWYMZ53lRMoXZu+7cWrZw8IPiq66MSNZ27mSqeuBNSlTH/bvU+TDpc9PZSTPHjtN8YUfjZjY4X72wMaJmZyUrmj00SNUjg4l1tkKP5vI6IHfAMCS8tqGPTXqN5nbubgjHWUR9df9BuweMJAQweEqCbI3aLjfa+TaScPMfZ8/FBCcwrIjFMNYnuCLEE7I1HhYfjHGW81xS9fBgqnCHt9ZgrKTsh/dyiSBbcx7k5U728ye5RL/Z7K3SXGF7ApoJpDG/qGuQBZskOhRIKdVNHg/mvquaPphrQMGmob/4v8dQIGHvKJdL6IGK2CqFsCGeXJbfaW5nypJxbWPCK7Si9FbCms5D2BBP7qKmNNooyWlhy1a5xEXmXjCXJRD5DqwkvJSS6i2cTqAR8ch7n1xZDRUUh8MeSq98O8ALlVMS+sdllGKuelxW5/q3NaIdPl/xboxQvqVwCG1WinszaxVnAtHXWuU2N50nMHaE26y+PEKZL+NuaVlflOZQBeWm9c76TO6kTUPuXouSO/L+5+mhhCskLm0O01segQ7JybQKLLbOZlgyQzPx/fxFCj0wEivnOIOzzRqSRZn1hgSH6y3ZKPukXzKDO9qfcEv29BH7OPnc+njcurrvoG3LQtUTuc8d8oDrC20MOAb13qDM8zVuzf9CkbbSG64JY5Th90JXKnYbRaaW6+VnelesT/DP1sfT3APknXCsxRTAQr0tH+VhUAlglknT3JYPpLbljnGaOxxmKV9pdv+sDUJ/AWOYCH7iXicRmBL797kZ9n0u8QkXSABbAz+nRVknJE7OkedINRftct/N/6qAA8It6OG83/NuPmwzBibGw+L9no/6geZ4hL5/AKodxn9pXV5eAAAAAElFTkSuQmCC\"","import * as React from 'react';\nimport styles from './InfoMessage.module.css';\n\nconst InfoMessage: React.FC = () => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.icon} />\n      <p className={styles.text}>\n        olio er midlertidig stengt i påvente av videre føringer fra regjeringen.\n      </p>\n    </div>\n  );\n};\n\nexport default InfoMessage;\n","import React, { useState, useEffect } from 'react';\nimport { graphql, Link } from 'gatsby';\nimport CallToActionButton from '../callToAction/CallToActionButton';\nimport Routes from '../../routing/Routes';\nimport { RootState } from '../../../root.reducer';\nimport { getPrivacyPolicyStatus, getCurrentUser } from '../../../domain/user/forces/selectors';\nimport { setPrivacyPolicyStatus } from '../../../domain/user/forces/actions';\nimport { Dispatch, bindActionCreators } from 'redux';\nimport { windowExist } from '../../../utils/general.utils';\nimport { connect } from 'react-redux';\nimport styles from './PrivacyPolicy.module.css';\n\ntype OwnProps = { privacyPolicyStatus?: boolean | null };\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype Props = OwnProps & StateProps & DispatchProps;\n\nconst PrivacyPolicy: React.FC<Props> = (props: Props) => {\n  const [privacyPolicyConsent, setPrivacyPolicyConsent] = useState();\n  const renderPrivacyPolicyConsentIfNeeded = () => {\n    if (props.privacyPolicyStatus || privacyPolicyConsent) {\n      return;\n    }\n    return (\n      <div className={styles.container}>\n        <div className={styles.textContainer}>\n          <span className={styles.text}>\n            Denne nettsiden benytter cookies (informasjonskapsler) for å optimalisere opplevelsen\n            din.{' '}\n            <Link to={Routes.PrivacyPolicyDetail()} className={styles.text}>\n              Les mer her\n            </Link>\n          </span>\n        </div>\n        <CallToActionButton\n          className={styles.button}\n          styleType=\"secondary\"\n          onClick={() => savePrivacyPolicyStatus()}>\n          Den er grei!\n        </CallToActionButton>\n      </div>\n    );\n  };\n\n  const savePrivacyPolicyStatus = async () => {\n    if (props.user) {\n      await props.setPrivacyPolicyStatus(true);\n    }\n    setPrivacyPolicyConsent(true);\n    // for when user is not logged in or guest users.\n    if (windowExist()) {\n      localStorage.setItem('privacy_policy_status', 'true');\n    }\n  };\n\n  return <>{renderPrivacyPolicyConsentIfNeeded()}</>;\n};\n\nconst mapStateToProps = (state: RootState, ownProps: OwnProps) => ({\n  privacyPolicyStatus: getPrivacyPolicyStatus(state),\n  user: getCurrentUser(state),\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      setPrivacyPolicyStatus,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(PrivacyPolicy);\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport styles from './SocialMediaIcon.module.css';\n\ntype Props = {} & React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\nconst SocialMediaIcon: React.FunctionComponent<Props> = ({ className, ...props }) => {\n  return (\n    <a className={classNames(styles.container, className)} target=\"_blank\" {...props}>\n      {props.children}\n    </a>\n  );\n};\n\nexport default SocialMediaIcon;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { Container, Row, Column } from '../grid/Grid';\nimport SocialMediaIcon from '../socialMediaIcons/SocialMediaIcon';\nimport Link from '../link/Link';\nimport Routes from '../../routing/Routes';\nimport styles from './Footer.module.css';\n\ninterface Props {}\n\nconst Footer: React.FunctionComponent<Props> = props => {\n  return (\n    <footer className={styles.container}>\n      <Container>\n        <Row>\n          <Column xs={6} sm className={styles.column}>\n            <a\n              href=\"https://www.facebook.com/pg/oliono/about/?ref=page_internal\"\n              target=\"_blank\"\n              className={styles.link}>\n              Om oss\n            </a>\n          </Column>\n          <Column xs={6} sm className={styles.column}>\n            <a href=\"https://www.messenger.com/t/oliono\" target=\"_blank\" className={styles.link}>\n              Kontakt oss\n            </a>\n          </Column>\n          <Column xs={6} sm className={styles.column}>\n            <Link to={Routes.Booking()} className={styles.link}>\n              Book time\n            </Link>\n          </Column>\n          <Column xs={6} sm className={styles.column}>\n            <Link to={Routes.Terms()} className={styles.link}>\n              Vilkår\n            </Link>\n          </Column>\n          <Column xs={6} sm className={classNames(styles.column, styles.socialMediaIcons)}>\n            <SocialMediaIcon\n              href=\"https://www.facebook.com/oliono/\"\n              className={styles.iconFacebook}\n            />\n          </Column>\n          <Column xs={6} sm className={styles.column}>\n            <SocialMediaIcon\n              href=\"https://www.instagram.com/olio.no/\"\n              className={styles.iconInstagram}\n            />\n          </Column>\n        </Row>\n      </Container>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { Container, Row, Column } from '../grid/Grid';\nimport styles from './FixedBarBottom.module.css';\n\ntype Props = {\n  leftColumn?: React.ReactNode;\n  rightColumn?: React.ReactNode;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst FixedBarBottom: React.FunctionComponent<Props> = ({\n  className,\n  leftColumn,\n  rightColumn,\n  ...props\n}) => {\n  return (\n    <div className={classNames(styles.container, className)} {...props}>\n      <Container>\n        <Row className={styles.row}>\n          <Column xs={3} md={3} className={styles.columnLeft}>\n            {leftColumn}\n          </Column>\n          {rightColumn && (\n            <Column xs={9} md={9} className={styles.columnRight}>\n              {rightColumn}\n            </Column>\n          )}\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default FixedBarBottom;\n","import * as React from 'react';\nimport { navigate } from '@reach/router';\nimport styles from './Logo.module.css';\n\ntype Props = {\n  color?: string;\n} & React.SVGAttributes<SVGElement>;\n\nconst Logo: React.FunctionComponent<Props> = ({ className, color = '#8e4f5a', ...props }) => {\n  return (\n    <svg\n      width=\"80px\"\n      height=\"36px\"\n      viewBox=\"0 0 80 36\"\n      onClick={() => navigate('/')}\n      className={styles.logo}>\n      <title>Hjem</title>\n      <g id=\"SVG-Layer\" transform=\"translate(-0.500000, 0.000000)\" fill={color}>\n        <path\n          d=\"M13.9615 29.7019C9.97528 29.7019 6.73063 26.5051 6.73063 22.5724C6.73063 18.6457 9.97528 15.4428 13.9615 15.4428C17.9538 15.4428 21.1987 18.6457 21.1987 22.5724C21.1987 26.5051 17.9538 29.7019 13.9615 29.7019ZM13.9615 9.73063C6.77425 9.73063 0.925812 15.4919 0.925812 22.5724C0.925812 29.6529 6.77425 35.4141 13.9615 35.4141C21.155 35.4141 27.0035 29.6529 27.0035 22.5724C27.0035 15.4919 21.155 9.73063 13.9615 9.73063Z\"\n          fill=\"#fff\"\n        />\n        <path\n          d=\"M66.8901 29.7018C62.8971 29.7018 59.6514 26.5049 59.6514 22.5721C59.6514 18.6453 62.8971 15.4424 66.8901 15.4424C70.8771 15.4424 74.1226 18.6453 74.1226 22.5721C74.1226 26.5049 70.8771 29.7018 66.8901 29.7018ZM65.5508 9.79749C59.421 10.3989 54.5247 15.2215 53.9142 21.2591C53.5216 25.1245 54.8922 28.9163 57.6704 31.6529C60.1375 34.0827 63.4453 35.4141 66.9025 35.4141C67.3387 35.4141 67.7809 35.3957 68.2234 35.3528C74.353 34.7453 79.2432 29.9287 79.8597 23.8851C80.2524 20.0197 78.8818 16.2339 76.1036 13.4973C73.3251 10.7548 69.4753 9.40487 65.5508 9.79749Z\"\n          fill=\"#fff\"\n        />\n        <path d=\"M31.5202 35.1623H37.4005V0.414093H31.5202V35.1623Z\" fill=\"#fff\" />\n        <path d=\"M43.3659 35.0784H49.2462V10.1503H43.3659V35.0784Z\" fill=\"#fff\" />\n        <path d=\"M43.3659 6.20546H49.2462V0.414093H43.3659V6.20546Z\" fill=\"#fff\" />\n      </g>\n    </svg>\n  );\n};\n\nexport default Logo;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { BodyBolderText, H3 } from '../texts';\nimport styles from './FormAlert.module.css';\n\ntype Props = {\n  error?: string | null;\n  success?: string | null;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst FormAlert: React.FunctionComponent<Props> = ({ error = null, success = null }) => {\n  if (!(error || success)) return null;\n  const headerText = error ? 'Oops!' : '';\n  const message = error ? error : success;\n  return (\n    <div\n      className={classNames(styles.alert, {\n        [styles.alertDanger]: error,\n        [styles.alertSuccess]: success,\n      })}>\n      <div className={styles.alertContent}>\n        <H3 className={styles.text}>{headerText}</H3>\n        <BodyBolderText className={styles.text}>{message}</BodyBolderText>\n      </div>\n    </div>\n  );\n};\n\nexport default FormAlert;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport classNames from 'classnames';\nimport Footer from '../footer/Footer';\nimport Logo from '../logo/Logo';\nimport favicon from '../../../assets/images/favicon.png';\nimport BookMenu from '../bookMenu/BookMenu';\nimport InfoMessage from '../infoMessage/InfoMessage';\nimport config from '../../../config';\nimport styles from './Layout.module.css';\nimport PrivacyPolicy from '../privacyPolicy/PrivacyPolicy';\n\ntype Props = {} & React.HTMLAttributes<HTMLElement>;\nconst Layout: React.FunctionComponent<Props> = ({ children, className }) => {\n  return (\n    <>\n      <BookMenu />\n      <Helmet\n        title={'olio'}\n        link={[{ rel: 'shortcut icon', type: 'image/x-icon', href: `${favicon}` }]}\n      />\n\n      <div className={classNames(styles.container, className)}>{children}</div>\n      <Footer />\n      <div className={styles.footerBarCollection}>\n        {config.bookingDisabled && <InfoMessage />}\n        <PrivacyPolicy />\n      </div>\n    </>\n  );\n};\n\nexport default Layout;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { BodyBolderText, H3 } from '../texts';\nimport styles from './SectionListTitle.module.css';\n\ntype Props = {\n  size?: 'normal' | 'big';\n} & React.HTMLAttributes<HTMLElement>;\n\nconst SectionListTitle: React.FunctionComponent<Props> = ({\n  className,\n  size = 'normal',\n  children,\n  ...props\n}) => {\n  const Component = size === 'big' ? H3 : BodyBolderText;\n  return (\n    <Component className={classNames(styles.text, className)} {...props}>\n      {children}\n    </Component>\n  );\n};\n\nexport default SectionListTitle;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { assertUnreachable } from '../../../utils/ts.utils';\nimport styles from './FormInput.module.css';\n\ntype CallToActionStyleType = 'primary' | 'secondary';\nexport type FormType = 'name' | 'tel' | 'email' | 'text' | 'date' | 'password';\n\ntype Props = {\n  styleType?: CallToActionStyleType;\n  type?: FormType;\n  placeholder?: string;\n  value: string;\n  required?: boolean;\n} & React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n\nconst styleTypeToClassName = (styleType: CallToActionStyleType) => {\n  switch (styleType) {\n    case 'primary':\n      return styles.primary;\n    case 'secondary':\n      return styles.secondary;\n    default:\n      assertUnreachable(styleType);\n  }\n};\n\nconst getType = (type?: FormType) => {\n  switch (type) {\n    case 'name':\n      return 'name';\n    case 'tel':\n      return 'tel';\n    case 'email':\n      return 'email';\n    case 'date':\n      return 'date';\n    case 'password':\n      return 'password';\n    default:\n      return 'text';\n  }\n};\nconst getPlaceholder = (placeholder?: string, type?: FormType) => {\n  if (placeholder) {\n    return placeholder;\n  } else {\n    return getType(type);\n  }\n};\n\nconst FormInputWith: React.FunctionComponent<Props> = ({\n  className,\n  required = true,\n  styleType = 'primary',\n  ...props\n}) => {\n  return (\n    <div className={classNames(styles.container, className)}>\n      <input\n        {...props}\n        type={getType(props.type)}\n        className={classNames(styles.input, styleTypeToClassName(styleType))}\n        placeholder={getPlaceholder(props.placeholder, props.type)}\n        required={required}\n      />\n    </div>\n  );\n};\n\nexport default FormInputWith;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { Container } from '../grid/Grid';\nimport { H1, BodyBolderText } from '../texts';\nimport Link from '../link/Link';\nimport Routes from '../../routing/Routes';\nimport styles from './PageTitle.module.css';\n\ntype Theme = 'dark' | 'brown';\n\ntype Props = {\n  title: string;\n  theme?: Theme;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst PageTitle: React.FunctionComponent<Props> = ({ className, theme = 'dark', ...props }) => {\n  return (\n    <nav className={className} {...props}>\n      <Container className={styles.container}>\n        <Link\n          to={Routes.Main()}\n          className={classNames(\n            {\n              [styles.backButtonDark]: theme === 'dark',\n              [styles.backButtonBrown]: theme === 'brown',\n            },\n            styles.backButton\n          )}>\n          <BodyBolderText\n            className={classNames({\n              [styles.textDark]: theme === 'dark',\n              [styles.textBrown]: theme === 'brown',\n            })}>\n            Hjem\n          </BodyBolderText>\n        </Link>\n        <H1\n          className={classNames(\n            {\n              [styles.textDark]: theme === 'dark',\n              [styles.textBrown]: theme === 'brown',\n            },\n            styles.title\n          )}>\n          {props.title}\n        </H1>\n      </Container>\n    </nav>\n  );\n};\n\nexport default PageTitle;\n","export const formatToNOK = (amount: number) => `${amount}kr`;\nexport const getNewPriceWithPoints = (originalPrice: number, currentPointsAmount: number) => {\n  return Math.max(originalPrice - currentPointsAmount, 0);\n};\nexport const getOlioPointsRounded = (points: number) => Math.ceil(points);\n","import { CardNumberElement, CardExpiryElement, CardCVCElement } from 'react-stripe-elements';\n\nexport enum STRIPE_FORM_FIELDS {\n  CARD_NUMBER = 'cardNumber',\n  EXPIRY_DATE = 'expiryDate',\n  CVC = 'CVC',\n}\n\nexport default [\n  {\n    name: 'cardNumber',\n    Component: CardNumberElement,\n    placeholder: 'Card number',\n  },\n  {\n    name: 'expiryDate',\n    placeholder: 'Expiry date',\n    Component: CardExpiryElement,\n  },\n  {\n    name: 'cvc',\n    Component: CardCVCElement,\n    placeholder: 'CVC',\n  },\n];\n","import React, { Component } from 'react';\n\nexport default class NoSSR extends Component {\n  state = {\n    mounted: false,\n  };\n\n  componentDidMount() {\n    this.setState({ mounted: true });\n  }\n\n  render() {\n    return this.state.mounted ? this.props.children : <React.Fragment />;\n  }\n}\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport { injectStripe, ReactStripeElements } from 'react-stripe-elements';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\n\nimport formFields, { STRIPE_FORM_FIELDS } from './fields/stripeFormFields';\nimport { RootState } from '../../../root.reducer';\nimport { getStripeToken } from '../../../domain/user/forces/actions';\nimport FormAlert from '../form/FormAlert';\nimport LoadingIndicator from '../loadingIndicator/LoadingIndicator';\nimport CallToActionButton from '../callToAction/CallToActionButton';\nimport Link from '../link/Link';\nimport styles from './StripeForm.module.css';\n\nconst formOptions = {\n  style: {\n    base: {\n      color: '#69b2c3',\n      letterSpacing: '0.025em',\n      fontSize: '1.375rem',\n      height: '45px !important',\n      fontFamily: \"'GT-Walsheim', Helvetica, sans-serif\",\n    },\n    invalid: {\n      color: '#f5634c',\n    },\n    complete: {\n      color: '#69b2c3',\n    },\n  },\n};\n\ninterface OwnProps {\n  onTokenReceived: (cardToken: any) => void;\n  onSkipButtonClicked?: () => void;\n  showLoader?: boolean;\n  hideSkipButton?: boolean;\n  buttonText?: string;\n  existingLastFourCardDigits?: number;\n  error?: Error | null;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps &\n  StateProps &\n  OwnProps &\n  React.HTMLAttributes<HTMLElement> &\n  ReactStripeElements.InjectedStripeProps;\n\ninterface State {\n  isLoading: boolean;\n  error: Error | null;\n}\n\nclass StripeForm extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoading: false,\n    };\n  }\n\n  renderFields: React.FunctionComponent = () => (\n    <>\n      {formFields.map(this.modifyPlaceholders).map((field, index) => {\n        return (\n          <div className={styles.container} key={index}>\n            <field.Component\n              className={classNames(styles.input, 'secondary')}\n              placeholder={field.placeholder}\n              {...formOptions}\n            />\n          </div>\n        );\n      })}\n    </>\n  );\n\n  modifyPlaceholders = (formfield: any) => {\n    if (\n      this.props.existingLastFourCardDigits &&\n      formfield.name === STRIPE_FORM_FIELDS.CARD_NUMBER\n    ) {\n      formfield.placeholder = `**** **** **** ${this.props.existingLastFourCardDigits}`;\n    }\n    return formfield;\n  };\n\n  async onSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n    const { stripe, onTokenReceived, getStripeToken } = this.props;\n\n    if (stripe == null) {\n      throw new Error('Stripe is not loaded');\n    }\n    try {\n      this.setState({ isLoading: true, error: null });\n      const token = await getStripeToken(stripe);\n      if (token == null) {\n        throw new Error('Looks like the card information is wrong. Please try again');\n      }\n      this.setState({ isLoading: false, error: null });\n      onTokenReceived(token);\n    } catch (err) {\n      this.setState({ error: err, isLoading: false });\n    }\n  }\n\n  onSkipClicked(event: React.MouseEvent<HTMLAnchorElement>) {\n    event.preventDefault();\n    this.props.onSkipButtonClicked && this.props.onSkipButtonClicked();\n  }\n\n  render() {\n    const { isLoading } = this.state;\n    const { showLoader = false, hideSkipButton = false, buttonText = 'Neste' } = this.props;\n    const showLoadingIndicator = showLoader || isLoading;\n    const error = this.state.error || this.props.error;\n    const Fields = this.renderFields;\n    return (\n      <form onSubmit={this.onSubmit.bind(this)}>\n        <Fields />\n        <CallToActionButton disabled={isLoading} type=\"submit\" size=\"large\">\n          {buttonText}\n        </CallToActionButton>\n        {!hideSkipButton && (\n          <Link\n            underlined\n            to=\"#\"\n            onClick={this.onSkipClicked.bind(this)}\n            className={styles.skipButton}>\n            Hopp over. Jeg gjør dette senere\n          </Link>\n        )}\n        {showLoadingIndicator && <LoadingIndicator />}\n        {error && <FormAlert error={error.message || 'Something went wrong'} />}\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({});\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      getStripeToken,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectStripe(StripeForm));\n","import * as React from 'react';\nimport { Elements, StripeProvider } from 'react-stripe-elements';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { RootState } from '../../../root.reducer';\nimport { setPaymentInformation } from '../../user/forces/actions';\nimport NoSSR from '../../../common/components/ssr/NoSSR';\nimport config from '../../../config';\nimport StripeForm from '../../../common/components/stripe/StripeForm';\n\ninterface OwnProps {\n  header?: JSX.Element;\n  hideSkipButton?: boolean;\n  buttonText?: string;\n  existingLastFourCardDigits?: number;\n  onSkipButtonClicked?: () => void;\n  onPaymentSubmitted?: () => void;\n  onSubmitCardToken: (cardToken: any) => Promise<any>;\n}\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype Props = DispatchProps & StateProps & OwnProps & React.HTMLAttributes<HTMLElement>;\n\ninterface State {\n  error: Error | null;\n  isLoading: boolean;\n}\n\nclass PaymentContainer extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      error: null,\n    };\n  }\n\n  render() {\n    return (\n      <NoSSR>\n        {this.props.header}\n        <StripeProvider apiKey={config.stripePublishableKey}>\n          <Elements>\n            <StripeForm\n              error={this.state.error}\n              buttonText={this.props.buttonText}\n              existingLastFourCardDigits={this.props.existingLastFourCardDigits}\n              showLoader={this.state.isLoading}\n              onTokenReceived={async cardToken => {\n                try {\n                  this.setState({ error: null, isLoading: true });\n                  await this.props.onSubmitCardToken(cardToken);\n                  this.setState({ error: null, isLoading: false });\n                  this.props.onPaymentSubmitted && this.props.onPaymentSubmitted();\n                } catch (err) {\n                  this.setState({ error: err, isLoading: false });\n                }\n              }}\n              hideSkipButton={this.props.hideSkipButton}\n              onSkipButtonClicked={() => {\n                this.props.onSkipButtonClicked && this.props.onSkipButtonClicked();\n              }}\n            />\n          </Elements>\n        </StripeProvider>\n      </NoSSR>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({});\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      setPaymentInformation,\n    },\n    dispatch\n  );\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  mapStateToProps,\n  mapDispatchToProps\n)(PaymentContainer);\n","export default {\n  DASHBOARD: {\n    PAYMENT_INFORMATION: {\n      EXISTING: 'Du har lagret et kort før. Tast inn nytt for å oppdatere den.',\n      DOES_NOT_EXIST:\n        'Du har ikke lagt inn betalingsinformasjon. For at du skal kunne booke time som medlem må du fylle inn informasjonen under. ',\n      UPDATED: 'Din betalingsinfo har blitt oppdatert',\n      BUTTONS: {\n        UPDATE: 'Oppdater',\n      },\n    },\n  },\n  BUTTONS: {\n    BOOKING: {\n      CHANGE: 'Endre time',\n      CANCEL: 'Kanseller booking',\n    },\n  },\n  MESSAGES: {\n    LOGIN: {\n      TO_UPDATE_BOOKING: 'Du må være logget inn for å endre ordren din.',\n    },\n  },\n};\n","import React from 'react';\nimport H1 from '../texts/H1';\nimport CallToActionButton from '../callToAction/CallToActionButton';\nimport Modal from './Modal';\nimport styles from './ConfirmActionModal.module.css';\n\ntype OwnProps = {\n  isOpen: boolean;\n  showButtons: boolean;\n  handleResponse: (response: boolean) => void;\n};\ntype Props = OwnProps & React.HTMLAttributes<HTMLElement>;\n\nconst ConfirmActionModal: React.FunctionComponent<Props> = ({\n  handleResponse,\n  isOpen,\n  showButtons = true,\n  ...props\n}) => {\n  return (\n    <Modal isOpen={isOpen} {...props}>\n      <H1>Er du sikker?</H1>\n      {props.children}\n      <div className={styles.buttonContainer}>\n        <CallToActionButton\n          className={styles.button}\n          styleType=\"secondary\"\n          onClick={() => handleResponse(true)}>\n          Ja\n        </CallToActionButton>\n        <CallToActionButton\n          className={styles.button}\n          styleType=\"secondary\"\n          onClick={() => handleResponse(false)}>\n          Nei\n        </CallToActionButton>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmActionModal;\n","import * as React from 'react';\nimport Lottie from 'react-lottie';\nimport successAnimationJSON from './lottieSuccessAnimation.json';\n\ntype Props = {} & React.HTMLAttributes<HTMLElement>;\n\nconst SuccessAnimation: React.FunctionComponent<Props> = ({ className, ...props }) => {\n  return (\n    <Lottie\n      options={{\n        autoplay: true,\n        loop: false,\n        animationData: successAnimationJSON,\n      }}\n      height={200}\n      width={200}\n    />\n  );\n};\n\nexport default SuccessAnimation;\n","import * as React from 'react';\nimport posed from 'react-pose';\n\nconst Container = posed.div({\n  enter: {\n    y: 0,\n    opacity: 1,\n    delay: 300,\n    transition: {\n      y: { type: 'spring', stiffness: 1000, damping: 15 },\n      default: { duration: 300 },\n    },\n  },\n  exit: {\n    y: 50,\n    opacity: 0,\n    transition: { duration: 150 },\n  },\n});\n\ntype Props = {} & React.HTMLAttributes<HTMLElement>;\n\nconst ContainerAnimation: React.FunctionComponent<Props> = ({ className, children, ...props }) => {\n  return <Container {...props}>{children}</Container>;\n};\n\nexport default ContainerAnimation;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport posed, { PoseGroup } from 'react-pose';\nimport { Treatment } from '../../treatment/forces/types';\nimport { BodyBolderText } from '../../../common/components/texts';\nimport styles from './BookingOverviewTreatmentsList.module.css';\n\nconst Item = posed.li();\n\ntype Props<T> = {\n  treatments: Array<T>;\n  hasRemoveButton: boolean;\n  onRemoveTreatment?: (treatment: T) => void;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst BookingOverviewTreatmentsList: <T extends { id: string; title: string }>(\n  props: Props<T>\n) => React.ReactElement<Props<T>> = ({\n  className,\n  treatments,\n  hasRemoveButton,\n  onRemoveTreatment,\n  ...props\n}) => {\n  return (\n    <ul className={classNames(styles.list, className)} {...props}>\n      <PoseGroup>\n        {treatments.map((treatment, i) => {\n          return (\n            <Item key={treatment.id + i} className={styles.listItem}>\n              <BodyBolderText>{treatment.title}</BodyBolderText>\n              {hasRemoveButton && onRemoveTreatment && (\n                <button\n                  className={styles.removeButton}\n                  onClick={() => onRemoveTreatment(treatment)}\n                />\n              )}\n            </Item>\n          );\n        })}\n      </PoseGroup>\n    </ul>\n  );\n};\n\nexport default BookingOverviewTreatmentsList;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { BodyBolderText } from '../texts';\nimport styles from './Checkbox.module.css';\n\ntype Props = {\n  checked?: boolean;\n  title?: string;\n  onCheckboxChange: (checked: boolean) => void;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst Checkbox: React.FunctionComponent<Props> = ({\n  className,\n  title = null,\n  checked = false,\n  onCheckboxChange,\n  ...props\n}) => {\n  return (\n    <label className={classNames(styles.container, className)} {...props}>\n      <BodyBolderText>{title}</BodyBolderText>\n      <input\n        type=\"checkbox\"\n        checked={checked}\n        onChange={event => {\n          onCheckboxChange(event.target.checked);\n        }}\n      />\n      <span className={styles.checkmark} />\n    </label>\n  );\n};\n\nexport default Checkbox;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport Checkbox from '../../../common/components/checkbox/Checkbox';\nimport { H3, BodyBolderText } from '../../../common/components/texts';\nimport { getOlioPointsRounded } from '../../../utils/currency.utils';\nimport styles from './BookingOlioPointsSection.module.css';\n\ntype Props = {\n  checked: boolean;\n  onCheckboxChange: (checked: boolean) => void;\n  title: string;\n  currentPointsAmount: number;\n} & React.HTMLAttributes<HTMLElement>;\n\nconst BookingOlioPointsSection: React.FunctionComponent<Props> = ({\n  className,\n  onCheckboxChange,\n  checked,\n  title,\n  currentPointsAmount,\n  ...props\n}) => {\n  return (\n    <div className={classNames(styles.container, className)} {...props}>\n      <BodyBolderText>\n        Du har <H3 className={styles.pointsAmount}>{getOlioPointsRounded(currentPointsAmount)}</H3>{' '}\n        olio-poeng.\n      </BodyBolderText>\n      <div>\n        <Checkbox checked={checked} onCheckboxChange={onCheckboxChange} title={title} />\n      </div>\n    </div>\n  );\n};\n\nexport default BookingOlioPointsSection;\n","import * as React from 'react';\nimport classNames from 'classnames';\nimport { H2, BodyBolderText, BodyText } from '../../../common/components/texts';\nimport SectionListTitle from '../../../common/components/section/SectionListTitle';\nimport BookingOverviewTreatmentsList from './BookingOverviewTreatmentsList';\nimport CallToActionButton, {\n  CallToActionStyleType,\n  CallToActionSize,\n} from '../../../common/components/callToAction/CallToActionButton';\nimport { formatToNOK, getNewPriceWithPoints } from '../../../utils/currency.utils';\nimport {\n  formatToDateAndYear,\n  formatDateToTime,\n  calculateClockFromMSTime,\n} from '../../../utils/date.utils';\nimport LoadingIndicator from '../../../common/components/loadingIndicator/LoadingIndicator';\nimport BookingOlioPointsSection from './BookingOlioPointsSection';\nimport { BookingContext } from '../forces/types';\nimport BOOKING_TEXTS from '../assets/texts';\nimport styles from './BookingOverview.module.css';\nimport { IClinic } from '../../clinics/forces/types';\n\ninterface PointsConfig {\n  usePoints?: boolean;\n  currentAmount: number;\n  onCheckboxChange: (checked: boolean) => void;\n}\n\ninterface ITextButton {\n  callback: () => void;\n  callbackText: string;\n}\n\ninterface Button {\n  validation?: boolean;\n  callback: () => void;\n  callbackText: string;\n  isSubmitting?: boolean;\n  styleType?: CallToActionStyleType;\n  size?: CallToActionSize;\n  isSecondary?: boolean;\n}\n\ninterface OwnProps<T> {\n  selectedDate: number | null;\n  selectedTime: number | null;\n  totalPrice: number;\n  totalDuration: number;\n  dateTimeMessage?: string;\n  selectedTreatments: Array<T>;\n  selectedClinic: IClinic | null;\n  deselectTreatment?: (treatment: T) => void;\n  leftButton?: Button;\n  rightButton?: Button;\n  cancelButton?: ITextButton;\n  pointsConfig?: PointsConfig | null;\n  bookingContext?: BookingContext;\n  userIsMember?: boolean;\n  editMode?: boolean;\n}\n\ntype Props<T> = OwnProps<T> & React.HTMLAttributes<HTMLElement>;\n\nconst renderButton = (button?: Button, className?: string) => {\n  if (button == null) {\n    return null;\n  }\n\n  const { callback, callbackText, isSubmitting, validation, size = 'large' } = button;\n\n  const styleType = button.isSecondary ? 'outlined' : 'primary';\n\n  if (isSubmitting) {\n    return <LoadingIndicator />;\n  }\n  return (\n    <CallToActionButton\n      size={size}\n      styleType={styleType}\n      className={className}\n      disabled={!validation}\n      onClick={() => callback && callback()}>\n      {callbackText}\n    </CallToActionButton>\n  );\n};\n\nconst renderPointsSectionIfNeeded = (pointsConfig: PointsConfig | null, totalPrice: number) => {\n  if (pointsConfig == null) {\n    return null;\n  }\n  const { usePoints = false, onCheckboxChange } = pointsConfig;\n  const newPriceWithPoints = getNewPriceWithPoints(totalPrice, pointsConfig.currentAmount);\n  return (\n    <>\n      <SectionListTitle className={styles.sectionListTitle}>olio-poeng</SectionListTitle>\n      <BookingOlioPointsSection\n        title={`Betal med olio-poeng. Ny pris ${formatToNOK(newPriceWithPoints)}`}\n        checked={usePoints}\n        onCheckboxChange={onCheckboxChange}\n        currentPointsAmount={pointsConfig.currentAmount}\n      />\n    </>\n  );\n};\n\nconst renderTotalPriceSection = (\n  pointsConfig: PointsConfig | null,\n  totalPrice: number,\n  userIsMember: boolean\n) => {\n  let price = totalPrice;\n  if (pointsConfig != null && pointsConfig.usePoints) {\n    price = getNewPriceWithPoints(totalPrice, pointsConfig.currentAmount);\n  }\n\n  const formattedPriceInNOK = formatToNOK(price);\n  const memberText = formattedPriceInNOK + ' betales når du booker';\n\n  return (\n    <>\n      <SectionListTitle className={styles.sectionListTitle}>Totalt</SectionListTitle>\n      <BodyBolderText>{userIsMember ? memberText : formattedPriceInNOK}</BodyBolderText>\n    </>\n  );\n};\n\nconst getButtonsContainerStyle = (\n  leftButton: Button | undefined,\n  rightButton: Button | undefined,\n  cancelButton: Button | undefined\n) => {\n  const contextIsDashboard = leftButton && !rightButton && !cancelButton;\n  return contextIsDashboard ? styles.buttonsContainerDashboard : styles.buttonContainer;\n};\nconst MemberNotice: React.FunctionComponent = () => (\n  <BodyBolderText className={styles.paymentNotice}>\n    {BOOKING_TEXTS.MESSAGES.BOOKING_PAID_WITH_STORED_CARD.FIRST_LINE}\n    <br />\n    {BOOKING_TEXTS.MESSAGES.BOOKING_PAID_WITH_STORED_CARD.SECOND_LINE}\n  </BodyBolderText>\n);\n\nconst BookingOverview: <T extends { id: string; title: string }>(\n  props: Props<T>\n) => React.ReactElement<Props<T>> = ({\n  className,\n  selectedDate,\n  selectedTime,\n  totalPrice,\n  totalDuration,\n  selectedTreatments,\n  selectedClinic,\n  deselectTreatment,\n  leftButton,\n  rightButton,\n  cancelButton,\n  dateTimeMessage,\n  pointsConfig = null,\n  userIsMember = false,\n  editMode = false,\n  bookingContext,\n}) => {\n  const hasDateAndTime = selectedDate != null && selectedTime != null;\n  const shouldShowDateTimeMessage = hasDateAndTime && dateTimeMessage != null;\n  const buttonsContainerStyle = getButtonsContainerStyle(leftButton, rightButton, cancelButton);\n  const location = selectedClinic\n    ? `${selectedClinic.name} (${selectedClinic.address.streetAddress})`\n    : '';\n\n  const showMemberAutomaticPaymentNotice = userIsMember && bookingContext === BookingContext.ORDER;\n  return (\n    <div className={classNames(styles.wrapper, className)}>\n      <div className={classNames(styles.container)}>\n        <H2>Oversikt</H2>\n        <SectionListTitle className={styles.sectionListTitle}>Behandlinger</SectionListTitle>\n        <BookingOverviewTreatmentsList\n          treatments={selectedTreatments}\n          hasRemoveButton={deselectTreatment == undefined ? false : true}\n          onRemoveTreatment={treatment => {\n            deselectTreatment && deselectTreatment(treatment);\n          }}\n        />\n\n        <SectionListTitle className={styles.sectionListTitle}>Lokasjon</SectionListTitle>\n        <BodyBolderText>{location}</BodyBolderText>\n\n        <div className={styles.spaceBetweenContainer}>\n          <SectionListTitle className={styles.sectionListTitle}>Dato & Tid</SectionListTitle>\n          <SectionListTitle className={styles.sectionListTitleRight}>Varighet</SectionListTitle>\n        </div>\n        <div>\n          <div className={styles.spaceBetweenContainer}>\n            <BodyBolderText>\n              {selectedDate &&\n                selectedTime &&\n                `${formatToDateAndYear(selectedDate)}, ${calculateClockFromMSTime(selectedTime)}`}\n            </BodyBolderText>\n            <BodyBolderText>{totalDuration}min</BodyBolderText>\n          </div>\n          {shouldShowDateTimeMessage && <BodyText>{dateTimeMessage}</BodyText>}\n        </div>\n        {!editMode && (\n          <>\n            {renderPointsSectionIfNeeded(pointsConfig, totalPrice)}\n            {renderTotalPriceSection(pointsConfig, totalPrice, userIsMember)}\n          </>\n        )}\n      </div>\n      <div className={buttonsContainerStyle}>\n        {renderButton(leftButton, styles.leftButton)}\n        {renderButton(rightButton, styles.rightButton)}\n        {cancelButton && (\n          <p className={styles.cancelButtonText} onClick={cancelButton.callback}>\n            {cancelButton.callbackText}\n          </p>\n        )}\n      </div>\n      {showMemberAutomaticPaymentNotice && <MemberNotice />}\n    </div>\n  );\n};\n\nexport default BookingOverview;\n"],"sourceRoot":""}